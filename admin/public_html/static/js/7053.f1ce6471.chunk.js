"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7053],{8168:(e,l,n)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(l,{A:()=>s})},28645:(e,l,n)=>{n.d(l,{A:()=>v});var s=n(9950),a=n(66362),t=n(69216),i=n(80737),o=n(25933),d=n(57811),r=n(81541),c=n(48538),u=n(89323),h=n(70030),m=n(44414);const{Text:p}=a.A,v=e=>{let{columns:l=[],setColumns:n,style:a,size:v="",iconOnly:x}=e;const{t:A}=(0,h.B)(),[g,j]=(0,s.useState)(!1),f=(0,m.jsx)(t.A,{children:null===l||void 0===l?void 0:l.map(((e,s)=>(0,m.jsx)(t.A.Item,{children:(0,m.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,m.jsx)(p,{children:e.title}),(0,m.jsx)(o.A,{defaultChecked:!0,onClick:()=>function(e){const s=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));n(s)}(e),disabled:1===s})]})},e+s)))});return(0,m.jsx)(d.A,{overlay:f,trigger:["click"],onVisibleChange:e=>{j(e)},visible:g,children:(0,m.jsx)(r.A,{title:A("change.columns"),children:(0,m.jsx)(c.A,{style:{...a},size:v,icon:(0,m.jsx)(u.A,{}),children:x?null:A("Columns")})})})}},37053:(e,l,n)=>{n.r(l),n.d(l,{default:()=>H});var s=n(9950),a=n(12678),t=n(54909),i=n(80737),o=n(48538),d=n(23263),r=n(52913),c=n(91854),u=n(39539),h=n(8168),m=n(74623),p=n(88986),v=n(82706),x=n(87094),A=n(41988),g=n(91524),j=n(72243),f=n(66209),b=n(70030),I=n(81446),w=n(53774),y=n(7974),C=n(44414);function z(e){var l,n,a;let{uuid:t,handleCancel:i}=e;const[d,r]=(0,s.useState)({}),[u,h]=(0,s.useState)(!1),{t:m}=(0,b.B)(),{defaultCurrency:p}=(0,c.d4)((e=>e.currency),c.bN);return(0,s.useEffect)((()=>{!function(e){h(!0),f.A.getById(e).then((e=>r(e.data))).finally((()=>h(!1)))}(t)}),[t]),(0,C.jsx)(v.A,{visible:!!t,title:m("user"),onCancel:i,footer:[(0,C.jsx)(o.A,{type:"default",onClick:i,children:m("cancel")})],className:d.shop?"large-modal":"",children:u?(0,C.jsx)(I.A,{}):(0,C.jsxs)(x.A,{gutter:24,children:[(0,C.jsx)(A.A,{span:d.shop?12:24,children:(0,C.jsxs)(g.A,{bordered:!0,children:[(0,C.jsx)(g.A.Item,{span:3,label:m("avatar"),children:(0,C.jsx)(j.A,{src:(0,y.A)(d.img),alt:d.firstname,width:80,className:"rounded"})}),(0,C.jsx)(g.A.Item,{span:3,label:m("user.id"),children:d.id}),(0,C.jsxs)(g.A.Item,{span:3,label:m("name"),children:[d.firstname," ",d.lastname||""]}),(0,C.jsx)(g.A.Item,{span:3,label:m("gender"),children:d.gender}),(0,C.jsx)(g.A.Item,{span:3,label:m("birthday"),children:d.birthday}),(0,C.jsx)(g.A.Item,{span:3,label:m("email"),children:d.email}),(0,C.jsx)(g.A.Item,{span:3,label:m("phone"),children:d.phone}),(0,C.jsx)(g.A.Item,{span:3,label:m("role"),children:d.role}),(0,C.jsx)(g.A.Item,{span:3,label:m("wallet"),children:(0,w.default)(null===(l=d.wallet)||void 0===l?void 0:l.price,null===p||void 0===p?void 0:p.symbol)})]})}),d.shop?(0,C.jsx)(A.A,{span:12,children:(0,C.jsxs)(g.A,{bordered:!0,children:[(0,C.jsx)(g.A.Item,{span:3,label:m("shop.id"),children:d.shop.id}),(0,C.jsx)(g.A.Item,{span:3,label:m("shop.name"),children:null===(n=d.shop.translation)||void 0===n?void 0:n.title}),(0,C.jsx)(g.A.Item,{span:3,label:m("shop.logo"),children:(0,C.jsx)("img",{src:(0,y.A)(d.shop.logo_img),alt:null===(a=d.shop.translation)||void 0===a?void 0:a.title,width:100,className:"rounded"})}),(0,C.jsx)(g.A.Item,{span:3,label:m("shop.phone"),children:d.shop.phone}),(0,C.jsxs)(g.A.Item,{span:3,label:m("shop.open_close.time"),children:[d.shop.open_time," - ",d.shop.close_time]}),(0,C.jsx)(g.A.Item,{span:3,label:m("delivery.range"),children:d.shop.delivery_range})]})}):""]})})}var _=n(28645);const{TabPane:k}=t.A,V=["user"];function H(){const{t:e}=(0,b.B)(),l=(0,c.wA)(),{activeMenu:n}=(0,c.d4)((e=>e.menu),c.bN),{users:v,loading:x,meta:A,params:g}=(0,c.d4)((e=>e.user),c.bN),[j,f]=(0,s.useState)(null),[I,w]=(0,s.useState)([{title:e("id"),dataIndex:"id",sorter:!0,is_show:!0},{title:e("firstname"),dataIndex:"firstname",is_show:!0},{title:e("lastname"),dataIndex:"lastname",is_show:!0},{title:e("email"),dataIndex:"email",is_show:!0},{title:e("role"),dataIndex:"role",is_show:!0},{title:e("options"),dataIndex:"options",is_show:!0,render:(e,l)=>(0,C.jsx)(i.A,{children:(0,C.jsx)(o.A,{icon:(0,C.jsx)(a.A,{}),onClick:()=>f(l.uuid)})})}]);(0,s.useEffect)((()=>{if(n.refetch){const e=n.data,s={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:"user",perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};l((0,u.MT)(s)),l((0,m.km)(n))}}),[n.refetch]),(0,p.A)((()=>{const e=n.data,s={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:"user",perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};l((0,u.MT)(s))}),[n.data]);return(0,C.jsxs)(d.A,{title:e("shop.users"),extra:(0,C.jsx)(_.A,{columns:I,setColumns:w}),children:[(0,C.jsx)(t.A,{activeKey:"user",onChange:e=>{l((0,m.Ok)({activeMenu:n,data:{...n.data,role:e}}))},type:"card",children:V.map((l=>(0,C.jsx)(k,{tab:e(l)},l)))}),(0,C.jsx)(r.A,{scroll:{x:!0},columns:null===I||void 0===I?void 0:I.filter((e=>e.is_show)),dataSource:v,loading:x,pagination:{pageSize:g.perPage,page:g.page,total:A.total,defaultCurrent:g.page},rowKey:e=>e.id,onChange:function(e,s,a){const{pageSize:t,current:i}=e,{field:o,order:d}=a,r=(0,h.A)(d);l((0,m.Ok)({activeMenu:n,data:{...n.data,perPage:t,page:i,column:o,sort:r}}))}}),j&&(0,C.jsx)(z,{uuid:j,handleCancel:()=>f(null)})]})}},53774:(e,l,n)=>{function s(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===l?`${n} ${e}`:`${e} ${n}`}n.r(l),n.d(l,{default:()=>s})},89323:(e,l,n)=>{n.d(l,{A:()=>d});var s=n(89379),a=n(9950);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=n(25085),o=function(e,l){return a.createElement(i.A,(0,s.A)((0,s.A)({},e),{},{ref:l,icon:t}))};const d=a.forwardRef(o)}}]);