"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9705],{1201:(e,t,a)=>{a.d(t,{A:()=>d});a(9950);var n=a(70030),l=a(88542);const s=a.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",o=a.p+"static/media/noresult.ac4af107751f94856a9c.riv",r=a.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var i=a(44414);const d=function(e){let{id:t="noresult",text:a=""}=e;const{t:d}=(0,n.B)(),c={src:{noproductsfound:s,noresult:o,nosell:r}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,l.useRive)(c);return(0,i.jsxs)("div",{className:"animation-canvas",children:[(0,i.jsx)("div",{style:{width:"100%",height:200},children:(0,i.jsx)(u,{})}),(0,i.jsx)("div",{className:"text",children:d(a)})]})}},8168:(e,t,a)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>n})},8297:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(9950),l=a(55902),s=a(41397),o=a(60767),r=a(44414);function i(e){let{handleChange:t,defaultValue:a,resetSearch:i,...d}=e;const[c,u]=(0,n.useState)(a),v=(0,n.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,n.useEffect)((()=>{u(a)}),[i]),(0,r.jsx)(l.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,r.jsx)(o.A,{}),...d})}},9320:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(82371);const l={create:e=>n.A.post("dashboard/admin/digital-files",e,{})}},13700:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),l=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var o=a(25085),r=function(e,t){return l.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const i=l.forwardRef(r)},16215:(e,t,a)=>{var n=a(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.useRef();return t.current=e,l.useCallback((function(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[])};var l=n(a(9950))},28645:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(9950),l=a(66362),s=a(69216),o=a(80737),r=a(25933),i=a(57811),d=a(81541),c=a(48538),u=a(89323),v=a(70030),p=a(44414);const{Text:h}=l.A,f=e=>{let{columns:t=[],setColumns:a,style:l,size:f="",iconOnly:m}=e;const{t:x}=(0,v.B)(),[j,g]=(0,n.useState)(!1),A=(0,p.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,p.jsx)(s.A.Item,{children:(0,p.jsxs)(o.A,{className:"d-flex justify-content-between",children:[(0,p.jsx)(h,{children:e.title}),(0,p.jsx)(r.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(n)}(e),disabled:1===n})]})},e+n)))});return(0,p.jsx)(i.A,{overlay:A,trigger:["click"],onVisibleChange:e=>{g(e)},visible:j,children:(0,p.jsx)(d.A,{title:x("change.columns"),children:(0,p.jsx)(c.A,{style:{...l},size:f,icon:(0,p.jsx)(u.A,{}),children:m?null:x("Columns")})})})}},30358:(e,t,a)=>{var n=a(6305).default,l=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.useRef(!1),a=o.useState(e),n=(0,s.default)(a,2),l=n[0],r=n[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[l,function(e,a){if(a&&t.current)return;r(e)}]};var s=l(a(85715)),o=n(a(9950))},35116:(e,t,a)=>{a.d(t,{A:()=>d});a(9950);var n=a(48538),l=a(44070),s=a(85923),o=a(70030),r=a(13311),i=a(44414);function d(e){let{size:t="",onClick:a,type:d="default",...c}=e;const{t:u}=(0,o.B)(),{isDemo:v}=(0,r.A)();return(0,i.jsx)(n.A,{size:t,icon:(0,i.jsx)(l.A,{}),onClick:e=>{v?s.oR.warning(u("cannot.work.demo")):a(e)},type:d,...c})}},46078:(e,t,a)=>{var n=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useComposeRef=t.supportRef=t.supportNodeRef=t.getNodeRef=t.fillRef=t.composeRef=void 0;var l=n(a(73738)),s=a(9950),o=a(26429),r=n(a(40525)),i=n(a(56039)),d=Number(s.version.split(".")[0]),c=t.fillRef=function(e,t){"function"===typeof e?e(t):"object"===(0,l.default)(e)&&e&&"current"in e&&(e.current=t)},u=t.composeRef=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.filter(Boolean);return n.length<=1?n[0]:function(e){t.forEach((function(t){c(t,e)}))}},v=(t.useComposeRef=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.default)((function(){return u.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,a){return e!==t[a]}))}))},t.supportRef=function(e){var t,a;if(!e)return!1;if(p(e)&&d>=19)return!0;var n=(0,o.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof n||null!==(t=n.prototype)&&void 0!==t&&t.render||n.$$typeof===o.ForwardRef)&&!!("function"!==typeof e||null!==(a=e.prototype)&&void 0!==a&&a.render||e.$$typeof===o.ForwardRef)});function p(e){return(0,s.isValidElement)(e)&&!(0,i.default)(e)}t.supportNodeRef=function(e){return p(e)&&v(e)},t.getNodeRef=function(e){if(e&&p(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}},53387:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),l=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=a(25085),r=function(e,t){return l.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const i=l.forwardRef(r)},53542:(e,t,a)=>{var n=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t||{},n=a.defaultValue,d=a.value,c=a.onChange,u=a.postState,v=(0,r.default)((function(){return i(d)?d:i(n)?"function"===typeof n?n():n:"function"===typeof e?e():e})),p=(0,l.default)(v,2),h=p[0],f=p[1],m=void 0!==d?d:h,x=u?u(m):m,j=(0,s.default)(c),g=(0,r.default)([m]),A=(0,l.default)(g,2),y=A[0],b=A[1];(0,o.useLayoutUpdateEffect)((function(){var e=y[0];h!==e&&j(h,e)}),[y]),(0,o.useLayoutUpdateEffect)((function(){i(d)||f(d)}),[d]);var w=(0,s.default)((function(e,t){f(e,t),b([m],t)}));return[x,w]};var l=n(a(85715)),s=n(a(16215)),o=a(85080),r=n(a(30358));function i(e){return void 0!==e}},55645:(e,t,a)=>{a.r(t),a.d(t,{default:()=>je});var n=a(54909),l=a(70030),s=a(28429),o=a(9950),r=a(24513),i=a(89379);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};var c=a(25085),u=function(e,t){return o.createElement(c.A,(0,i.A)((0,i.A)({},e),{},{ref:t,icon:d}))};const v=o.forwardRef(u);var p=a(9845),h=a(67376),f=a(44070),m=a(53387),x=a(13700),j=a(72243),g=a(80737),A=a(12916),y=a(25933),b=a(48538),w=a(23263),C=a(52913),_=a(82706),k=a(85923),S=a(63620),R=a(55386),z=a(76083),M=a(91854),V=a(74623),H=a(47933),N=a(92979),I=a(88986),P=a(37963),O=a(62572),E=a(58547),$=a(8297),q=a(8168),B=a(35116),T=a(59233),D=a(87094),F=a(41988),K=a(99674),L=a(55902),X=a(98890),W=a(3462),U=a(44414);const Y=["published","pending","unpublished"],Z=["accept","decline"],G={type:"product"};function J(e){let{orderDetails:t,handleCancel:a,paramsData:n,listType:s="product"}=e;const{activeMenu:r}=(0,M.d4)((e=>e.menu),M.bN),[i]=T.A.useForm(),d=(0,M.wA)(),{t:c}=(0,l.B)(),[u,v]=(0,o.useState)(!1),[p,h]=(0,o.useState)(null===t||void 0===t?void 0:t.status),f="request"===s?Z:Y;return(0,U.jsx)(_.A,{visible:!!t,title:t.title,onCancel:a,footer:[(0,U.jsx)(b.A,{type:"primary",onClick:()=>i.submit(),loading:u,children:c("save")}),(0,U.jsx)(b.A,{type:"default",onClick:a,children:c("cancel")})],children:(0,U.jsx)(T.A,{form:i,layout:"vertical",onFinish:e=>{v(!0);const l={...e};"product"===s?((e,t)=>{H.A.updateStatus(e,t).then((()=>{a(),k.oR.success(c("successfully.updated")),d((0,N.j0)(n)),d((0,V.km)(r))})).finally((()=>v(!1)))})(t.uuid,l):s&&((e,t)=>{const n={status_note:t.status_note,status:"accept"===t.status?"approved":"canceled"};X.A.changeStatus(e,n).then((()=>{a(),k.oR.success(c("successfully.updated")),d((0,W.uj)(G)),d((0,V.km)(r))})).finally((()=>v(!1)))})(t.id,l)},initialValues:"product"===s?{status:t.status,status_note:t.status_note}:{status:"accept",status_note:t.status_note},children:(0,U.jsx)(D.A,{gutter:12,children:(0,U.jsxs)(F.A,{span:24,children:[(0,U.jsx)(T.A.Item,{label:c("status"),name:"status",rules:[{required:!0,message:c("required")}],children:(0,U.jsx)(K.A,{onChange:e=>h(e),children:f.map(((e,t)=>(0,U.jsx)(K.A.Option,{value:e,children:c(e)},e+t)))})}),("unpublished"===p||"decline"===p)&&(0,U.jsx)(T.A.Item,{name:"status_note",label:c("note"),rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(c("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(c("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(c("required")))}],children:(0,U.jsx)(L.A.TextArea,{maxLength:250,showCount:!0})})]})})})})}var Q=a(28645),ee=a(1201),te=a(38525),ae=a(80905),ne=a(72540),le=a(88349),se=a(9320);function oe(e){let{product_id:t,handleCancel:a,handleRefetch:n}=e;const{t:s}=(0,l.B)();return(0,U.jsx)(_.A,{visible:t,footer:!1,onCancel:a,children:(0,U.jsx)(w.A,{bordered:!1,className:"mb-0",children:(0,U.jsxs)(ne.A,{name:"file",multiple:!1,maxCount:1,customRequest:e=>{let{file:l,onSuccess:o}=e;const r=new FormData;r.append("file",l),r.append("active",1),r.append("product_id",t),se.A.create(r).then((()=>{k.oR.success(s("successfully.import")),o("ok"),a(),n()})).catch((e=>{o("error")}))},accept:".zip",children:[(0,U.jsx)("p",{className:"ant-upload-drag-icon",children:(0,U.jsx)(le.A,{})}),(0,U.jsx)("p",{className:"ant-upload-text",children:s("upload-drag")}),(0,U.jsx)("p",{className:"ant-upload-hint",children:s("upload-text")})]})})})}const re=["blue","red","gold","volcano","cyan","lime"],ie=["all","pending","published","unpublished"],{TabPane:de}=n.A,ce=()=>{var e,t,a,i,d,c,u,T,D,F,K,L;const{t:X}=(0,l.B)(),W=(0,M.wA)(),Y=(0,s.Zp)(),[Z,G]=(0,o.useState)(null),[ne,le]=(0,o.useState)(null),[se,ce]=(0,o.useState)(null),[ue,ve]=(0,o.useState)("all"),[pe,he]=(0,o.useState)(null),[fe,me]=(0,o.useState)(null),[xe,je]=(0,o.useState)(!1),[ge,Ae]=(0,o.useState)(""),ye=()=>{W((0,V.Ok)({activeMenu:Ve,data:null}))},[be,we]=(0,o.useState)([{title:X("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:X("image"),dataIndex:"img",is_show:!0,render:(e,t)=>(0,U.jsx)(j.A,{width:100,height:100,src:S.sE+e,placeholder:!0,style:{borderRadius:4,objectFit:"cover"}})},{title:X("name"),dataIndex:"name",is_show:!0},{title:X("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var a;return(0,U.jsx)(g.A,{children:null===(a=t.locales)||void 0===a?void 0:a.map(((e,t)=>(0,U.jsx)(A.A,{className:"text-uppercase",color:[re[t]],children:e})))})}},{title:X("shop"),dataIndex:"shop_id",is_show:!0,render:(e,t)=>{var a,n;return null===(a=t.shop)||void 0===a||null===(n=a.translation)||void 0===n?void 0:n.title}},{title:X("category"),dataIndex:"category_name",is_show:!0},{title:X("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,U.jsx)(y.A,{onChange:()=>{ke(!0),_e(t.uuid),le(!0)},checked:e})},{title:X("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,U.jsxs)("div",{children:["pending"===e?(0,U.jsx)(A.A,{color:"blue",children:X(e)}):"unpublished"===e?(0,U.jsx)(A.A,{color:"error",children:X(e)}):(0,U.jsx)(A.A,{color:"cyan",children:X(e)}),(0,U.jsx)(r.A,{onClick:()=>G(t)})]})},{title:X("digital.file"),is_show:!0,dataIndex:"digital_file",key:"digital.file",render:(e,t)=>null!==t&&void 0!==t&&t.digital?(0,U.jsx)("div",{children:e?(0,U.jsx)(g.A,{children:(0,U.jsx)(b.A,{icon:(0,U.jsx)(r.A,{}),onClick:()=>me(t.id)})}):(0,U.jsx)(b.A,{icon:(0,U.jsx)(v,{onClick:()=>me(t.id)})})}):(0,U.jsx)(A.A,{color:"blue",children:X("no.digital")})},{title:X("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,U.jsxs)(g.A,{children:[(0,U.jsx)(b.A,{type:"primary",icon:(0,U.jsx)(r.A,{}),onClick:()=>{return e=t.uuid,W((0,V.X4)({id:"product-edit",url:`product/${e}`,name:X("edit.product")})),ye(),void Y(`/product/${e}`);var e}}),"unpublished"===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.status_note)&&(0,U.jsx)(b.A,{onClick:()=>{je(!0),Ae(t.status_note)},icon:(0,U.jsx)(p.A,{})}),(0,U.jsx)(b.A,{icon:(0,U.jsx)(h.A,{}),onClick:()=>{return e=t.uuid,W((0,V.X4)({id:"product-clone",url:`product-clone/${e}`,name:X("clone.product")})),ye(),void Y(`/product-clone/${e}`);var e}}),(0,U.jsx)(B.A,{icon:(0,U.jsx)(f.A,{}),onClick:()=>{ke(!0),_e([t.id]),ce(!0),le(!1)}})]})}]),[Ce,_e]=(0,o.useState)(null),{setIsModalVisible:ke}=(0,o.useContext)(R.o),[Se,Re]=(0,o.useState)(!1),[ze,Me]=(0,o.useState)(!1),{activeMenu:Ve}=(0,M.d4)((e=>e.menu),M.bN),{products:He,meta:Ne,loading:Ie,params:Pe}=(0,M.d4)((e=>e.product),M.bN),Oe=(null===(e=Ve.data)||void 0===e?void 0:e.role)||ue,Ee=Ve.data,$e={search:null===Ee||void 0===Ee?void 0:Ee.search,brand_id:null===Ee||void 0===Ee||null===(t=Ee.selectedBrand)||void 0===t?void 0:t.value,category_id:null===Ee||void 0===Ee||null===(a=Ee.selectedCategory)||void 0===a?void 0:a.value,shop_id:null===Ee||void 0===Ee||null===(i=Ee.selectedShop)||void 0===i?void 0:i.value,sort:null===Ee||void 0===Ee?void 0:Ee.sort,status:"all"===Oe?void 0:Oe,column:null===Ee||void 0===Ee?void 0:Ee.column,perPage:null===Ee||void 0===Ee?void 0:Ee.perPage,page:null===Ee||void 0===Ee?void 0:Ee.page};(0,I.A)((()=>{W((0,N.j0)($e))}),[Ve.data]),(0,o.useEffect)((()=>{Ve.refetch&&(W((0,N.j0)($e)),W((0,V.km)(Ve)))}),[Ve.refetch]);const qe=e=>{const t=Ve.data;W((0,V.Ok)({activeMenu:Ve,data:{...t,...e}}))},Be={selectedRowKeys:Ce,onChange:e=>{_e(e)}};return(0,U.jsxs)(o.Fragment,{children:[(0,U.jsx)(w.A,{className:"p-0",children:(0,U.jsxs)(g.A,{wrap:!0,size:[14,20],children:[(0,U.jsx)($.A,{placeholder:X("search"),handleChange:e=>qe({search:e}),defaultValue:null===(d=Ve.data)||void 0===d?void 0:d.search,resetSearch:!(null!==(c=Ve.data)&&void 0!==c&&c.search),style:{minWidth:300}}),(0,U.jsx)(ae.j,{placeholder:X("select.shop"),hasMore:null===pe||void 0===pe?void 0:pe.next,loading:Ie,fetchOptions:async function(e){let{search:t,page:a}=e;const n={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,status:"approved",page:a};return E.A.search(n).then((e=>(he(e.links),e.data.map((e=>({label:null!==e.translation?e.translation.title:"no name",value:e.id}))))))},style:{minWidth:180},onChange:e=>qe({selectedShop:e}),value:null===(u=Ve.data)||void 0===u?void 0:u.selectedShop}),(0,U.jsx)(ae.j,{placeholder:X("select.category"),fetchOptions:async function(e){let{search:t,page:a}=e;const n={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,type:"main",page:a};return O.A.search(n).then((e=>(he(e.links),e.data.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}})))))},hasMore:null===pe||void 0===pe?void 0:pe.next,loading:Ie,style:{minWidth:180},onChange:e=>qe({selectedCategory:e}),value:null===(T=Ve.data)||void 0===T?void 0:T.selectedCategory}),(0,U.jsx)(ae.j,{placeholder:X("select.brand"),fetchOptions:async function(e){let{search:t,page:a}=e;const n={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,page:a};return P.A.search(n).then((e=>(he(e.links),e.data.map((e=>({label:e.title,value:e.id}))))))},hasMore:null===pe||void 0===pe?void 0:pe.next,loading:Ie,style:{minWidth:180},onChange:e=>qe({selectedBrand:e}),value:null===(D=Ve.data)||void 0===D?void 0:D.selectedBrand}),(0,U.jsxs)(b.A,{onClick:()=>{W((0,V.X4)({id:"product-import",url:"catalog/product/import",name:X("product.import")})),Y("/catalog/product/import")},children:[(0,U.jsx)(te.I8R,{className:"mr-2"}),X("import")]}),(0,U.jsxs)(b.A,{loading:ze,onClick:()=>{Me(!0),H.A.export($e).then((e=>{const t=S.bb+e.data.file_name;window.location.href=t})).finally((()=>Me(!1)))},children:[(0,U.jsx)(te.$tV,{className:"mr-2"}),X("export")]}),(0,U.jsx)(Q.A,{columns:be,setColumns:we}),(0,U.jsx)(b.A,{icon:(0,U.jsx)(m.A,{}),type:"primary",onClick:()=>{W((0,V.X4)({id:"product-add",url:"product/add",name:X("add.product")})),ye(),Y("/product/add")},children:X("add.product")}),(0,U.jsx)(B.A,{size:"",onClick:()=>{null===Ce||0===Ce.length?k.oR.warning(X("select.the.product")):(ke(!0),ce(!1))},children:X("delete.selected")}),(0,U.jsx)(b.A,{icon:(0,U.jsx)(x.A,{}),onClick:()=>{W((0,V.Ok)({activeMenu:Ve,data:void 0}))},disabled:!Ve.data,style:{minWidth:150}})]})}),(0,U.jsxs)(w.A,{title:X("product"),children:[(0,U.jsx)(n.A,{className:"mt-3",activeKey:Oe,onChange:e=>{qe({role:e,page:1}),ve(e)},type:"card",children:ie.map((e=>(0,U.jsx)(de,{tab:X(e)},e)))}),(0,U.jsx)(C.A,{locale:{emptyText:(0,U.jsx)(ee.A,{})},scroll:{x:!0},rowSelection:Be,loading:Ie,columns:null===be||void 0===be?void 0:be.filter((e=>e.is_show)),dataSource:He,pagination:{pageSize:Pe.perPage,page:(null===(F=Ve.data)||void 0===F?void 0:F.page)||1,total:Ne.total,defaultCurrent:null===(K=Ve.data)||void 0===K?void 0:K.page,current:null===(L=Ve.data)||void 0===L?void 0:L.page},onChange:function(e,t,a){const{pageSize:n,current:l}=e,{field:s,order:o}=a,r=(0,q.A)(o);W((0,V.Ok)({activeMenu:Ve,data:{...Ve.data,perPage:n,page:l,column:s,sort:r}}))},rowKey:e=>e.id})]}),Z&&(0,U.jsx)(J,{orderDetails:Z,handleCancel:()=>G(null),paramsData:$e}),(0,U.jsx)(oe,{product_id:fe,handleCancel:()=>me(null),handleRefetch:()=>{(0,M.vA)((()=>{W((0,N.j0)($e)),W((0,V.km)(Ve))}))}}),(0,U.jsx)(z.A,{click:ne?()=>{Re(!0),H.A.setActive(Ce).then((()=>{ke(!1),W((0,N.j0)($e)),k.oR.success(X("successfully.updated")),le(!1)})).finally((()=>Re(!1)))}:()=>{Re(!0);const e={...Object.assign({},...Ce.map(((e,t)=>({[`ids[${t}]`]:e}))))};H.A.delete(e).then((()=>{ke(!1),k.oR.success(X("successfully.deleted")),W((0,N.j0)($e)),ce(null),le(!1)})).finally((()=>Re(!1)))},text:X(ne?"set.active.product":se?"delete":"all.delete"),loading:Se,setText:_e,setActive:le}),(0,U.jsxs)(_.A,{title:"Reject message",closable:!1,visible:xe,footer:null,centered:!0,children:[(0,U.jsx)("p",{children:ge}),(0,U.jsx)("div",{className:"d-flex justify-content-end",children:(0,U.jsx)(b.A,{type:"primary",className:"mr-2",onClick:()=>je(!1),children:X("close")})})]})]})};var ue=a(69554),ve=a(12678),pe=a(99324),he=a(59051),fe=a.n(he);const me={type:"product"};function xe(e){var t,a,n;let{parentId:i,type:d="main"}=e;const{t:c}=(0,l.B)(),{setIsModalVisible:u}=(0,o.useContext)(R.o),[v,h]=(0,o.useState)(!1),[f,m]=(0,o.useState)(!1),[x,y]=(0,o.useState)(""),[S,H]=(0,o.useState)(null),[N,P]=(0,o.useState)(null),O=(0,M.wA)(),E=(0,s.Zp)(),{activeMenu:$}=(0,M.d4)((e=>e.menu),M.bN),{data:B,meta:T,loading:D,params:F}=(0,M.d4)((e=>e.requestModels),M.bN),K=$.data,L={search:null===K||void 0===K?void 0:K.search,sort:null===K||void 0===K?void 0:K.sort,column:null===K||void 0===K?void 0:K.column,perPage:null===K||void 0===K?void 0:K.perPage,page:null===K||void 0===K?void 0:K.page,parent_id:i,type:"product"},[Y,Z]=(0,o.useState)([{title:c("created.by"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:e=>(0,U.jsxs)("span",{children:[e.firstname," ",null===e||void 0===e?void 0:e.lastname," ",(0,U.jsx)("a",{href:`tel:${null===e||void 0===e?void 0:e.phone}`,children:null===e||void 0===e?void 0:e.phone})]})},{title:c("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>fe()(e).format("YYYY-MM-DD HH:mm")},{title:c("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,t)=>{var a;return(0,U.jsxs)(g.A,{children:[null===(a=t.model.translation)||void 0===a?void 0:a.title," ",(0,U.jsx)(pe.Kly,{})," ",t.data[`title[${t.model.translation.locale}]`]]})}},{title:c("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>{var a,n;return(0,U.jsxs)(g.A,{children:[(0,U.jsx)(j.A,{src:(0,ue.A)(t.model.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,U.jsx)(pe.Kly,{}),(0,U.jsx)(j.A,{src:(0,ue.A)((null===(a=t.data.images)||void 0===a?void 0:a.at(0).url)||(null===(n=t.data.images)||void 0===n?void 0:n.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:c("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,U.jsx)("div",{children:"pending"===e?(0,U.jsx)(A.A,{color:"blue",children:c(e)}):"canceled"===e?(0,U.jsx)(A.A,{color:"error",children:c(e)}):(0,U.jsx)(A.A,{color:"cyan",children:c(e)})})},{title:c("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,U.jsxs)(g.A,{children:[(0,U.jsx)(b.A,{icon:(0,U.jsx)(r.A,{}),onClick:()=>(e=>{O((0,V.X4)({url:`product-request/${e.id}`,id:"product_request_edit",name:c("product.request.edit")})),E(`/product-request/${e.id}`)})(t)}),"cancelled"===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.status_note)&&(0,U.jsx)(b.A,{icon:(0,U.jsx)(p.A,{}),onClick:()=>{m(!0),y(t.status_note)}}),(0,U.jsx)(b.A,{icon:(0,U.jsx)(ve.A,{}),onClick:e=>{e.stopPropagation(),(e=>{O((0,V.X4)({url:`product-request-details/${e.id}`,id:"product_request_details",name:c("product.request.details")})),E(`/product-request-details/${e.id}`)})(t)}}),(0,U.jsx)(b.A,{onClick:()=>P(t),children:c("change.status")})]})}]);(0,o.useEffect)((()=>{O((0,W.uj)(L)),O((0,V.km)($))}),[$.refetch]),(0,I.A)((()=>{O((0,W.uj)(L))}),[$.data]);const G={selectedRowKeys:S,onChange:e=>{H(e)}};return(0,U.jsxs)(w.A,{title:c("requests"),extra:(0,U.jsx)(g.A,{wrap:!0,children:(0,U.jsx)(Q.A,{columns:Y,setColumns:Z})}),children:[(0,U.jsx)(C.A,{scroll:{x:!0},rowSelection:G,columns:null===Y||void 0===Y?void 0:Y.filter((e=>e.is_show)),dataSource:B,pagination:{pageSize:F.perPage,page:(null===(t=$.data)||void 0===t?void 0:t.page)||1,total:T.total,defaultCurrent:null===(a=$.data)||void 0===a?void 0:a.page,current:null===(n=$.data)||void 0===n?void 0:n.page},rowKey:e=>e.key,onChange:function(e,t,a){const{pageSize:n,current:l}=e,{field:s,order:o}=a,r=(0,q.A)(o);O((0,V.Ok)({activeMenu:$,data:{...$.data,perPage:n,page:l,column:s,sort:r}}))},loading:D}),N&&(0,U.jsx)(J,{orderDetails:N,handleCancel:()=>P(null),paramsData:L,listType:"request"}),(0,U.jsx)(z.A,{click:()=>{h(!0);const e={status:null===S||void 0===S?void 0:S.at(0).status};X.A.changeStatus(null===S||void 0===S?void 0:S.at(0).id,e).then((()=>{k.oR.success(c("successfully.changed")),O((0,W.uj)(me)),u(!1),H(null)})).finally((()=>h(!1)))},text:c("change.status"),setText:H,loading:v}),(0,U.jsxs)(_.A,{title:"Reject message",closable:!1,visible:f,footer:null,centered:!0,children:[(0,U.jsx)("p",{children:x}),(0,U.jsx)("div",{className:"d-flex justify-content-end",children:(0,U.jsx)(b.A,{type:"primary",className:"mr-2",onClick:()=>m(!1),children:c("close")})})]})]})}function je(){var e;const{t:t}=(0,l.B)(),a=(0,s.zy)();return(0,U.jsxs)(n.A,{defaultActiveKey:(null===(e=a.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,U.jsx)(n.A.TabPane,{tab:t("product.list"),children:(0,U.jsx)(ce,{})},"list"),(0,U.jsx)(n.A.TabPane,{tab:t("requests"),children:(0,U.jsx)(xe,{})},"request")]})}},56039:(e,t,a)=>{var n=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"object"===(0,l.default)(e)&&(e.$$typeof===s||e.$$typeof===o)&&e.type===r};var l=n(a(73738)),s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment")},80905:(e,t,a)=>{a.d(t,{j:()=>d});var n=a(9950),l=a(95491),s=a.n(l),o=a(99674),r=a(90650),i=a(44414);const d=e=>{let{fetchOptions:t,debounceTimeout:a=400,hasMore:l,...d}=e;const[c,u]=(0,n.useState)(!1),[v,p]=(0,n.useState)([]),[h,f]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),[j,g]=(0,n.useState)(1),A=(0,n.useMemo)((()=>s()((e=>{p([]),x(e),u(!0),t({search:e}).then((e=>{p(e),g(2),u(!1)})).finally((()=>f(!1)))}),a)),[t,a,j]);return(0,i.jsxs)(o.A,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const a=e.target;h||a.scrollTop+a.offsetHeight!==a.scrollHeight||l&&(f(!0),a.scrollTo(0,a.scrollHeight),t({search:m,page:j}).then((e=>{g((e=>e+1)),p([...v,...e])})).finally((()=>f(!1))))},labelInValue:!0,filterOption:!1,onSearch:A,notFoundContent:c?(0,i.jsx)(r.A,{size:"small"}):"no results",onFocus:()=>{v.length||A("")},...d,children:[v.map(((e,t)=>(0,i.jsx)(o.A.Option,{value:e.value,children:e.label},t))),h&&(0,i.jsx)(o.A.Option,{children:(0,i.jsx)(r.A,{size:"small"})})]})}},85080:(e,t,a)=>{var n=a(24994).default,l=a(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useLayoutUpdateEffect=t.default=void 0;var s=l(a(9950)),o=(0,n(a(66499)).default)()?s.useLayoutEffect:s.useEffect,r=function(e,t){var a=s.useRef(!0);o((function(){return e(a.current)}),t),o((function(){return a.current=!1,function(){a.current=!0}}),[])};t.useLayoutUpdateEffect=function(e,t){r((function(t){if(!t)return e()}),t)},t.default=r},89323:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),l=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=a(25085),r=function(e,t){return l.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const i=l.forwardRef(r)},98812:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tupleNum=t.tuple=void 0;t.tuple=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t};t.tupleNum=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t}}}]);