"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[447],{40447:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var l=n(70030),i=n(59233),s=n(23263),a=n(71999),r=n(75250),o=n(77400),c=n(44414);const d=function(){const{t:e}=(0,l.B)(),[t]=i.A.useForm();return(0,c.jsx)(s.A,{title:e("add.service.notification"),extra:(0,c.jsx)(a.A,{}),children:(0,c.jsx)(o.A,{form:t,onSubmit:e=>r.A.create(e)})})}},47992:(e,t,n)=>{n.d(t,{G:()=>c});var l=n(9950),i=n(95491),s=n.n(i),a=n(99674),r=n(90650),o=n(44414);const c=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:i,refetchOptions:c=!1,...d}=e;const[u,m]=(0,l.useState)(!1),[v,h]=(0,l.useState)([]),f=(0,l.useMemo)((()=>s()((e=>{h([]),m(!0),t(e).then((e=>{h(e),m(!1)}))}),n)),[t,n]);return(0,o.jsx)(a.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:f,onClear:()=>{f(""),i&&i()},notFoundContent:u?(0,o.jsx)(r.A,{size:"small"}):"no results",...d,options:v,onFocus:()=>{v.length&&!c||f("")}})}},51066:(e,t,n)=>{n.d(t,{Q:()=>s});var l=n(17706),i=n(80415);const s=()=>{var e,t,n,s;return null!==(e=null===(t=l.M.getState())||void 0===t||null===(n=t.globalSettings)||void 0===n||null===(s=n.settings)||void 0===s?void 0:s.hour_format)&&void 0!==e?e:i.G}},77400:(e,t,n)=>{n.d(t,{A:()=>S});var l=n(70030),i=n(91854),s=n(28429),a=n(9950),r=n(59051),o=n.n(r),c=n(85923),d=n(59233),u=n(87094),m=n(41988),v=n(99674),h=n(40577),f=n(55902),p=n(86971),A=n(48538),x=n(87902),_=n(74623),g=n(27940),j=n(47992),b=n(51066),y=n(44414);const w=["day","week"];const S=function(e){let{form:t,onSubmit:n}=e;const{t:r}=(0,l.B)(),S=(0,i.wA)(),q=(0,s.Zp)(),{languages:Y,defaultLang:k}=(0,i.d4)((e=>e.formLang),i.bN),{activeMenu:H}=(0,i.d4)((e=>e.menu),i.bN),M=(0,i.d4)((e=>{var t,n;return null===(t=e.globalSettings)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.using_12_hour_format}),i.bN),[O,C]=(0,a.useState)(!1),D=(0,b.Q)();function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title";const n=Y.map((n=>({[n.locale]:e[`${t}[${n.locale}]`]})));return Object.assign({},...n)}return(0,y.jsxs)(d.A,{form:t,layout:"vertical",onFinish:function(e){var t;C(!0);const l={service_master_id:null===(t=e.service_master)||void 0===t?void 0:t.value,notification_time:e.notification_time,notification_type:e.notification_type,last_sent_at:o()(e.last_sent_at).format("YYYY-MM-DD HH:mm"),title:I(e,"title")};delete l.service_master;const s="seller/service-notifications";n(l).then((()=>{c.oR.success("successfully.added"),(0,i.vA)((()=>{S((0,_.EK)({...H,nextUrl:s})),S((0,g.BS)({})),q("/"+s)}))})).finally((()=>C(!1)))},children:[(0,y.jsxs)(u.A,{gutter:24,children:[(0,y.jsx)(m.A,{span:12,children:(0,y.jsx)(d.A.Item,{name:"service_master",label:r("service.master"),rules:[{required:!0,message:"required"}],children:(0,y.jsx)(j.G,{fetchOptions:async function(e){const t={search:0===e.length?null:e};return x.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t,n,l;return{label:`${null===e||void 0===e||null===(t=e.master)||void 0===t?void 0:t.full_name} , ${null===(n=e.service)||void 0===n||null===(l=n.translation)||void 0===l?void 0:l.title}`,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))}})})}),(0,y.jsx)(m.A,{span:12,children:(0,y.jsx)(d.A.Item,{name:"notification_type",label:r("notification.type"),rules:[{required:!0,message:r("required")}],children:(0,y.jsx)(v.A,{children:w.map((e=>(0,y.jsx)(v.A.Option,{children:r(e)},e)))})})}),(0,y.jsx)(m.A,{span:12,children:(0,y.jsx)(d.A.Item,{name:"notification_time",label:r("notification.time"),rules:[{required:!0,message:r("required")}],children:(0,y.jsx)(h.A,{className:"w-100"})})}),(0,y.jsx)(m.A,{span:12,children:Y.map((e=>(0,y.jsx)(d.A.Item,{label:r("title"),name:`title[${e.locale}]`,rules:[{required:e.locale===k,message:r("required")}],hidden:e.locale!==k,children:(0,y.jsx)(f.A,{})},"title"+e.locale)))}),(0,y.jsx)(m.A,{span:12,children:(0,y.jsx)(d.A.Item,{name:"last_sent_at",label:r("last.sent.at"),rules:[{required:!0,message:r("required")}],children:(0,y.jsx)(p.A,{format:`YYYY-MM-DD ${D}`,use12Hours:"1"===M,className:"w-100",showTime:!0,placeholder:""})})})]}),(0,y.jsx)(A.A,{loading:O,type:"primary",htmlType:"submit",children:r("submit")})]})}},80415:(e,t,n)=>{n.d(t,{G:()=>a,HV:()=>i,LH:()=>l,PR:()=>s,wO:()=>o,xt:()=>r});const l={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},i=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),s=30,a="HH:mm",r="hh:mm a",o=!0}}]);