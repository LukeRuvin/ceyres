"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6668],{16668:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var i=l(9950),a=l(12678),d=l(29633),n=l(80737),s=l(48538),r=l(23263),o=l(52913),u=l(85923),c=l(76083),v=l(55386),x=l(91854),m=l(74623),h=l(88986),p=l(8168),g=l(70030),f=l(47526),y=l(89702),w=l(59051),k=l.n(w),A=l(28429),j=l(35116),C=l(28645),_=l(1160),b=l(44414);function S(){const{t:e}=(0,g.B)(),t=(0,x.wA)(),l=(0,A.Zp)(),[w,S]=(0,i.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:i=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>(i=>{t((0,m.X4)({id:"order_details",url:`order/details/${i}`,name:e("order.details")})),l(`/order/details/${i}`)})(null===i||void 0===i?void 0:i.id),children:["#",null===i||void 0===i?void 0:i.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,b.jsx)(d.A,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,b.jsx)(n.A,{children:(0,b.jsx)(s.A,{type:"primary",icon:(0,b.jsx)(a.A,{}),onClick:()=>N(t.id)})})}]),{setIsModalVisible:z}=(0,i.useContext)(v.o),[I,$]=(0,i.useState)(null),[M,N]=(0,i.useState)(null),[P,R]=(0,i.useState)(!1),[Y,D]=(0,i.useState)(null),{activeMenu:B}=(0,x.d4)((e=>e.menu),x.bN),{reviews:O,meta:V,loading:E,params:H}=(0,x.d4)((e=>e.deliveryboyReview),x.bN),K=B.data,T={sort:null===K||void 0===K?void 0:K.sort,column:null===K||void 0===K?void 0:K.column,perPage:null===K||void 0===K?void 0:K.perPage,page:null===K||void 0===K?void 0:K.page,assign:"deliveryman"};(0,i.useEffect)((()=>{B.refetch&&(t((0,_.$r)(T)),t((0,m.km)(B)))}),[B.refetch]),(0,h.A)((()=>{t((0,_.$r)(T))}),[B.data]);const X={id:I,onChange:e=>{$(e)}};return(0,b.jsxs)(r.A,{title:e("deliveryboy.reviews"),extra:(0,b.jsxs)(n.A,{wrap:!0,children:[(0,b.jsx)(j.A,{size:"",onClick:()=>{null===I||0===I.length?u.oR.warning(e("select.the.product")):(z(!0),D(!1))},children:e("delete.selected")}),(0,b.jsx)(C.A,{columns:w,setColumns:S})]}),children:[(0,b.jsx)(o.A,{scroll:{x:!0},rowSelection:X,columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:O,pagination:{pageSize:H.perPage,page:H.page,total:V.total,defaultCurrent:H.page},rowKey:e=>e.id,onChange:function(e,l,i){const{pageSize:a,current:d}=e,{field:n,order:s}=i,r=(0,p.A)(s);t((0,m.Ok)({activeMenu:B,data:{perPage:a,page:d,column:n,sort:r}}))},loading:E}),(0,b.jsx)(c.A,{click:()=>{R(!0);const l={...Object.assign({},...I.map(((e,t)=>({[`ids[${t}]`]:e}))))};f.A.delete(l).then((()=>{u.oR.success(e("successfully.deleted")),t((0,_.$r)()),z(!1)})).finally((()=>R(!1)))},text:e(Y?"delete":"all.delete"),setText:$,loading:P}),M&&(0,b.jsx)(y.A,{id:M,handleCancel:()=>N(null)})]})}},35116:(e,t,l)=>{l.d(t,{A:()=>o});l(9950);var i=l(48538),a=l(44070),d=l(85923),n=l(70030),s=l(13311),r=l(44414);function o(e){let{size:t="",onClick:l,type:o="default",...u}=e;const{t:c}=(0,n.B)(),{isDemo:v}=(0,s.A)();return(0,r.jsx)(i.A,{size:t,icon:(0,r.jsx)(a.A,{}),onClick:e=>{v?d.oR.warning(c("cannot.work.demo")):l(e)},type:o,...u})}}}]);