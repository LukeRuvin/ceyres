"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9501],{8168:(e,t,a)=>{function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>i})},35116:(e,t,a)=>{a.d(t,{A:()=>o});a(9950);var i=a(48538),s=a(44070),n=a(85923),d=a(70030),r=a(13311),l=a(44414);function o(e){let{size:t="",onClick:a,type:o="default",...c}=e;const{t:u}=(0,d.B)(),{isDemo:v}=(0,r.A)();return(0,l.jsx)(i.A,{size:t,icon:(0,l.jsx)(s.A,{}),onClick:e=>{v?n.oR.warning(u("cannot.work.demo")):a(e)},type:o,...c})}},53387:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(89379),s=a(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var d=a(25085),r=function(e,t){return s.createElement(d.A,(0,i.A)((0,i.A)({},e),{},{ref:t,icon:n}))};const l=s.forwardRef(r)},53774:(e,t,a)=>{function i(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const a=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?`${a} ${e}`:`${e} ${a}`}a.r(t),a.d(t,{default:()=>i})},79501:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var i=a(9950),s=a(12916),n=a(80737),d=a(48538),r=a(23263),l=a(52913),o=a(70030),c=a(91854),u=a(8168),v=a(74623),m=a(24513),h=a(44070),p=a(53387),f=a(35116),g=a(55386),x=a(88986),A=a(75751),j=a(28429),k=a(76083),w=a(85923),y=a(72124),C=a(53774),_=a(44414);const b={1:"male",2:"female",3:"all"};const I=function(){var e,t,a;const{t:I}=(0,o.B)(),S=(0,c.wA)(),{activeMenu:z}=(0,c.d4)((e=>e.menu)),{setIsModalVisible:M}=(0,i.useContext)(g.o),{serviceMaster:$,meta:N,loading:R,params:P}=(0,c.d4)((e=>e.serviceMaster),c.bN),B=(0,j.Zp)(),[O,V]=(0,i.useState)(null),[E,F]=(0,i.useState)(null),[H,K]=(0,i.useState)(!1),[X,D]=(0,i.useState)({id:null,active:!1}),T={selectedRowKeys:O,onChange:e=>{V(e)}},[Z]=(0,i.useState)([{title:I("id"),dataIndex:"id",is_show:!0,sorter:!0,key:"id"},{title:I("service.name"),dataIndex:"serviceName",is_show:!0,key:"service.name",render:(e,t)=>{var a,i;return null===(a=t.service)||void 0===a||null===(i=a.translation)||void 0===i?void 0:i.title}},{title:I("commission.fee"),dataIndex:"commission_fee",is_show:!0,key:"commission.fee",render:e=>(0,C.default)(e)},{title:I("discount"),dataIndex:"discount",is_show:!0,key:"discount",render:e=>(0,C.default)(e)},{title:I("gender"),dataIndex:"gender",is_show:!0,key:"gender",render:e=>I(b[e])},{title:I("pause"),dataIndex:"pause",is_show:!0},{title:I("interval"),dataIndex:"interval",is_show:!0,key:"interval",render:e=>(0,_.jsx)(s.A,{children:e})},{title:I("type"),is_show:!0,dataIndex:"type",key:"type",render:e=>(0,_.jsx)(s.A,{children:I(e)})},{title:I("options"),dataIndex:"options",key:"options",is_show:!0,render:(e,t)=>(0,_.jsxs)(n.A,{children:[(0,_.jsx)(d.A,{type:"primary",icon:(0,_.jsx)(m.A,{}),onClick:()=>{q(t.id)}}),(0,_.jsx)(f.A,{icon:(0,_.jsx)(h.A,{}),onClick:()=>{V([t.id]),M(!0),F("delete")}})]})}]),q=e=>{const t=`master/service-master/${e}`;S((0,v.X4)({id:"master-service-edit",url:t,name:I("edit.service.master")})),B("/"+t)},G=null===z||void 0===z?void 0:z.data,J={...P,search:null===G||void 0===G?void 0:G.search,sort:null===G||void 0===G?void 0:G.sort,column:null===G||void 0===G?void 0:G.column,page:null===G||void 0===G?void 0:G.page,perPage:null===G||void 0===G?void 0:G.perPage};return(0,i.useEffect)((()=>{z.refetch&&(S((0,A.mj)(J)),S((0,v.km)(z)))}),[z.refetch]),(0,x.A)((()=>{S((0,A.mj)(J))}),[G]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(r.A,{title:I("service.master"),children:[(0,_.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,_.jsx)(d.A,{icon:(0,_.jsx)(p.A,{}),type:"primary",onClick:()=>{S((0,v.X4)({id:"service-master-add",url:"master/service-master/add",name:I("add.service.master")})),S((0,v.Ok)({activeMenu:z,data:null})),B("/master/service-master/add")},children:I("add.service.master")}),(0,_.jsx)(d.A,{onClick:()=>{null===O||0===O.length?w.oR.warning(I("select.the.product")):(M(!0),F("all.delete"))},icon:(0,_.jsx)(h.A,{}),children:I("delete.selected")})]}),(0,_.jsx)(l.A,{scroll:{x:!0},rowSelection:T,columns:null===Z||void 0===Z?void 0:Z.filter((e=>e.is_show)),dataSource:$,loading:R,pagination:{pageSize:P.perPage,page:(null===(e=z.data)||void 0===e?void 0:e.page)||1,total:N.total,defaultCurrent:null===(t=z.data)||void 0===t?void 0:t.page,current:null===(a=z.data)||void 0===a?void 0:a.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:i,current:s}=e,{field:n,order:d}=a,r=(0,u.A)(d);S((0,v.Ok)({activeMenu:z,data:{...z.data,perPage:i,page:s,column:n,sort:r}}))}})]}),(0,_.jsx)(k.A,{click:()=>{"delete"===E||"all.delete"===E?(()=>{K(!0);const e={...Object.assign({},...O.map(((e,t)=>({[`ids[${t}]`]:e}))))};y.A.delete(e).then((()=>{w.oR.success(I("successfully.deleted")),V(null),M(!1),F(""),S((0,A.mj)(J))})).finally((()=>K(!1)))})():"set.active.order.status"===E&&(K(!0),y.A.update(X.id,{active:Number(X.active)}).then((()=>{D({id:null,active:!1}),M(!1),F(""),S((0,A.mj)(J))})).finally((()=>K(!1))))},text:E,setText:V,loading:H})]})}}}]);