"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5234],{31281:(e,l,t)=>{function i(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const i=e.map((e=>({[e.locale]:""===l[`${t}[${e.locale}]`]?void 0:l[`${t}[${e.locale}]`]})));return Object.assign({},...i)}t.d(l,{A:()=>i})},32853:(e,l,t)=>{t.r(l),t.d(l,{default:()=>d});t(9950);var i=t(59233),n=t(83678),r=t(31281),a=t(91854),o=t(72184),s=t(44414);function d(){const[e]=i.A.useForm(),{languages:l}=(0,a.d4)((e=>e.formLang),a.bN);return(0,s.jsx)(n.A,{form:e,handleSubmit:(e,t)=>{const i={type:"look",active:Number(e.active),title:(0,r.A)(l,e,"title"),description:(0,r.A)(l,e,"description"),products:e.products.map((e=>e.value)),images:t.map((e=>e.name))};return o.A.create(i)}})}},47992:(e,l,t)=>{t.d(l,{G:()=>d});var i=t(9950),n=t(95491),r=t.n(n),a=t(99674),o=t(90650),s=t(44414);const d=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:n,refetchOptions:d=!1,...u}=e;const[c,m]=(0,i.useState)(!1),[v,h]=(0,i.useState)([]),p=(0,i.useMemo)((()=>r()((e=>{h([]),m(!0),l(e).then((e=>{h(e),m(!1)}))}),t)),[l,t]);return(0,s.jsx)(a.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:c?(0,s.jsx)(o.A,{size:"small"}):"no results",...u,options:v,onFocus:()=>{v.length&&!d||p("")}})}},83678:(e,l,t)=>{t.d(l,{A:()=>k});var i=t(9950),n=t(23263),r=t(59233),a=t(87094),o=t(41988),s=t(55902),d=t(25933),u=t(48538),c=t(70030),m=t(71999),v=t(91854),h=t(28429),p=t(98591),A=t(47992),j=t(47933),g=t(48970),x=t(74623),b=t(85923),f=t(86918),y=t(44414);function k(e){var l,t;let{form:k,handleSubmit:w}=e;const S=(0,v.wA)(),P=(0,h.Zp)(),{t:$}=(0,c.B)(),{defaultLang:C,languages:I}=(0,v.d4)((e=>e.formLang),v.bN),{activeMenu:E}=(0,v.d4)((e=>e.menu),v.bN),{myShop:N}=(0,v.d4)((e=>e.myShop),v.bN),[F,L]=(0,i.useState)(!1),[O,q]=(0,i.useState)(null!==(l=null===E||void 0===E||null===(t=E.data)||void 0===t?void 0:t.image)&&void 0!==l?l:[]);function z(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(l?!e&&(null===l||void 0===l?void 0:l.locale)===C:!e)?Promise.reject(new Error($("required"))):e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error($("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<t?Promise.reject(new Error($(`must.be.at.least.${t}`))):Promise.resolve()}return(0,y.jsx)(i.Fragment,{children:(0,y.jsx)(n.A,{title:$("add.look"),extra:(0,y.jsx)(m.A,{}),children:(0,y.jsxs)(r.A,{form:k,onFinish:e=>{L(!0);const l="seller/looks";w(e,O).then((()=>{b.oR.success($("successfully.added")),(0,v.vA)((()=>{S((0,x.EK)({...E,nextUrl:l})),S((0,f.EA)({}))})),P(`/${l}`)})).finally((()=>L(!1)))},layout:"vertical",initialValues:{active:!0,...null===E||void 0===E?void 0:E.data},children:[(0,y.jsxs)(a.A,{gutter:12,children:[(0,y.jsx)(o.A,{span:12,children:I.map((e=>(0,y.jsx)(r.A.Item,{label:$("title"),name:`title[${e.locale}]`,hidden:e.locale!==C,rules:[{validator:(l,t)=>z(t,e)}],children:(0,y.jsx)(s.A,{})},"title"+e.id)))}),(0,y.jsx)(o.A,{span:12,children:I.map((e=>(0,y.jsx)(r.A.Item,{label:$("description"),name:`description[${e.locale}]`,hidden:e.locale!==C,rules:[{validator:(l,t)=>z(t,e,5)}],children:(0,y.jsx)(p.A,{rows:3})},"description"+e.id)))}),(0,y.jsx)(o.A,{span:12,children:(0,y.jsx)(r.A.Item,{label:$("products"),name:"products",rules:[{required:!0,message:$("required")}],children:(0,y.jsx)(A.G,{mode:"multiple",fetchOptions:e=>{const l={page:1,perPage:10,active:1,status:"published",shop_id:null===N||void 0===N?void 0:N.id,search:e||null};return j.A.getAll(l).then((e=>e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))))}})})}),(0,y.jsx)(o.A,{span:4,children:(0,y.jsx)(r.A.Item,{name:"images",label:$("image"),rules:[{validator:()=>0===O.length?Promise.reject(new Error($("required"))):Promise.resolve()}],children:(0,y.jsx)(g.A,{type:"products",imageList:O,setImageList:q,form:k,multiple:!1})})}),(0,y.jsx)(o.A,{span:4,children:(0,y.jsx)(r.A.Item,{label:$("active"),name:"active",valuePropName:"checked",children:(0,y.jsx)(d.A,{defaultChecked:!0})})})]}),(0,y.jsx)(u.A,{type:"primary",htmlType:"submit",loading:F,children:$("submit")})]})})})}}}]);