"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5651],{8297:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(9950),i=a(55902),s=a(41397),n=a(60767),o=a(44414);function d(e){let{handleChange:t,defaultValue:a,resetSearch:d,...c}=e;const[r,u]=(0,l.useState)(a),h=(0,l.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(a)}),[d]),(0,o.jsx)(i.A,{value:r,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,o.jsx)(n.A,{}),...c})}},35116:(e,t,a)=>{a.d(t,{A:()=>c});a(9950);var l=a(48538),i=a(44070),s=a(85923),n=a(70030),o=a(13311),d=a(44414);function c(e){let{size:t="",onClick:a,type:c="default",...r}=e;const{t:u}=(0,n.B)(),{isDemo:h}=(0,o.A)();return(0,d.jsx)(l.A,{size:t,icon:(0,d.jsx)(i.A,{}),onClick:e=>{h?s.oR.warning(u("cannot.work.demo")):a(e)},type:c,...r})}},53387:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(89379),i=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var n=a(25085),o=function(e,t){return i.createElement(n.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const d=i.forwardRef(o)},65651:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var l=a(9950),i=a(72243),s=a(25933),n=a(80737),o=a(48538),d=a(23263),c=a(52913),r=a(70030),u=a(59051),h=a.n(u),v=a(63620),p=a(24513),x=a(44070),g=a(53387),A=a(35116),m=a(8297),k=a(55386),f=a(85923),j=a(76083),w=a(91854),y=a(88986),_=a(86918),C=a(74623),b=a(5302),z=a(28429),S=a(44414);function M(){var e,t;const{t:a}=(0,r.B)(),u=(0,w.wA)(),M=(0,z.Zp)(),{setIsModalVisible:I}=(0,l.useContext)(k.o),{activeMenu:R}=(0,w.d4)((e=>e.menu),w.bN),{looks:D,loading:E,params:H,meta:V}=(0,w.d4)((e=>e.looks),w.bN),[Y,B]=(0,l.useState)(null),[N,O]=(0,l.useState)(!1),[$,F]=(0,l.useState)(!1),K={search:null!==(e=null===R||void 0===R||null===(t=R.data)||void 0===t?void 0:t.search)&&void 0!==e?e:null,...H},X=[{title:a("id"),dataIndex:"id",key:"id",is_show:!0},{title:a("title"),dataIndex:"title",key:"title",is_show:!0,render:(e,t)=>{var a;return null===t||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title}},{title:a("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>(0,S.jsx)(i.A,{width:100,height:100,src:null!==t&&void 0!==t&&t.img?v.sE+(null===t||void 0===t?void 0:t.img):"https://via.placeholder.com/150",preview:!(null===t||void 0===t||!t.img),placeholder:!0,style:{borderRadius:4,objectFit:"cover"}})},{title:a("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>h()(null===t||void 0===t?void 0:t.created_at).format("DD-MM-YYYY HH:mm")},{title:a("active"),dataIndex:"active",key:"active",is_show:!0,render:(e,t)=>(0,S.jsx)(s.A,{onChange:()=>{B([null===t||void 0===t?void 0:t.id]),F(!0),I(!0)},checked:null===t||void 0===t?void 0:t.active})},{title:a("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,S.jsxs)(n.A,{children:[(0,S.jsx)(o.A,{type:"primary",icon:(0,S.jsx)(p.A,{}),onClick:()=>Z(null===t||void 0===t?void 0:t.id)}),(0,S.jsx)(A.A,{icon:(0,S.jsx)(x.A,{}),onClick:()=>{I(!0),B([t.id]),F(!1)}})]})}],P={selectedRowKeys:Y,onChange:e=>{B(e)}},W=()=>{u((0,C.Ok)({activeMenu:R,data:null}))},Z=e=>{u((0,C.X4)({id:"look_edit",url:`catalog/looks/${e}`,name:"edit.look"})),W(),M(`${e}`)};return(0,y.A)((()=>{u((0,_.x_)(K))}),[R.data]),(0,l.useEffect)((()=>{R.refetch&&(0,w.vA)((()=>{u((0,_.x_)(K)),u((0,C.km)(R))}))}),[R.refetch]),(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(d.A,{className:"p-0",children:(0,S.jsxs)(n.A,{wrap:!0,size:[14,20],children:[(0,S.jsx)(m.A,{placeholder:a("search"),style:{minWidth:300},handleChange:e=>(e=>{const t=R.data;u((0,C.Ok)({activeMenu:R,data:{...t,...e}}))})({search:e})}),(0,S.jsx)(o.A,{icon:(0,S.jsx)(g.A,{}),type:"primary",onClick:()=>{u((0,C.X4)({id:"look_add",url:"catalog/looks/add",name:"add.look"})),W(),M("add")},children:a("add.looks")}),(0,S.jsx)(A.A,{icon:(0,S.jsx)(x.A,{}),onClick:()=>{null===Y||0===Y.length?f.oR.warning(a("select.the.product")):I(!0)},children:a("delete.selected")})]})}),(0,S.jsx)(d.A,{children:(0,S.jsx)(c.A,{scroll:{x:!0},rowKey:e=>e.id,rowSelection:P,columns:null===X||void 0===X?void 0:X.filter((e=>e.is_show)),dataSource:D,loading:E,pagination:{pageSize:V.per_page,page:V.current_page,total:V.total},onChange:e=>{const{pageSize:t,current:a}=e,l={...K,perPage:t,page:a};u((0,_.x_)(l))}})}),(0,S.jsx)(j.A,{click:$?()=>{O(!0),b.A.setActive(Y).then((()=>{u((0,_.x_)({paramsData:K})),f.oR.success(a("successfully.updated")),I(!1),F(!1),B(null)})).finally((()=>O(!1)))}:()=>{O(!0);const e={...Object.assign({},...Y.map(((e,t)=>({[`ids[${t}]`]:e}))))};b.A.delete(e).then((()=>{u((0,_.x_)({paramsData:K})),f.oR.success(a("successfully.deleted")),I(!1),F(!1),B(null)})).finally((()=>O(!1)))},text:a($?"set.active":"are.you.sure.you.want.to.delete.the.selected.products"),loading:N,setActive:F})]})}}}]);