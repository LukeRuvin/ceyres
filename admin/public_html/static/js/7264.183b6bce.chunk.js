"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7264],{1201:(e,t,a)=>{a.d(t,{A:()=>r});a(9950);var i=a(70030),s=a(88542);const l=a.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",n=a.p+"static/media/noresult.ac4af107751f94856a9c.riv",d=a.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var o=a(44414);const r=function(e){let{id:t="noresult",text:a=""}=e;const{t:r}=(0,i.B)(),c={src:{noproductsfound:l,noresult:n,nosell:d}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,s.useRive)(c);return(0,o.jsxs)("div",{className:"animation-canvas",children:[(0,o.jsx)("div",{style:{width:"100%",height:200},children:(0,o.jsx)(u,{})}),(0,o.jsx)("div",{className:"text",children:r(a)})]})}},8168:(e,t,a)=>{function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>i})},8297:(e,t,a)=>{a.d(t,{A:()=>o});var i=a(9950),s=a(55902),l=a(41397),n=a(60767),d=a(44414);function o(e){let{handleChange:t,defaultValue:a,resetSearch:o,...r}=e;const[c,u]=(0,i.useState)(a),v=(0,i.useMemo)((()=>(0,l.debounce)((e=>{t(e)}),800)),[]);return(0,i.useEffect)((()=>{u(a)}),[o]),(0,d.jsx)(s.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(n.A,{}),...r})}},15325:(e,t,a)=>{a.d(t,{A:()=>o});var i=a(89379),s=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};var n=a(25085),d=function(e,t){return s.createElement(n.A,(0,i.A)((0,i.A)({},e),{},{ref:t,icon:l}))};const o=s.forwardRef(d)},36063:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var i=a(9950),s=a(70030),l=a(91854),n=a(54909),d=a(72243),o=a(12916),r=a(80737),c=a(48538),u=a(23263),v=a(52913),h=a(74623),m=a(1201),p=a(63620),x=a(24513),g=a(15325),A=a(55386),f=a(84506),j=a(88986),w=a(59233),y=a(82706),b=a(87094),C=a(41988),k=a(99674),S=a(85923),_=a(1760),I=a(44414);const M=function(e){let{invitationDetails:t,handleCancel:a}=e;const n=(0,l.wA)(),{t:d}=(0,s.B)(),[o]=w.A.useForm(),{activeMenu:r}=(0,l.d4)((e=>e.menu),l.bN),[u,v]=(0,i.useState)(!1),m=["new","accepted"];return"canceled"===t.status?m.push("canceled"):"rejected"===t.status?m.push("rejected"):m.push("canceled","rejected"),(0,I.jsx)(y.A,{onCancel:a,visible:t,footer:[(0,I.jsx)(c.A,{type:"primary",onClick:()=>o.submit(),loading:u,children:d("save")}),(0,I.jsx)(c.A,{type:"default",onClick:a,children:d("cancel")})],children:(0,I.jsx)(w.A,{layout:"vertical",initialValues:{status:t.status},form:o,onFinish:e=>{v(!0),_.A.statusChange(t.id,{status:e.status}).then((()=>{n((0,h.Ms)(r)),n((0,h.km)(r)),a(),S.oR.success(d("successfully.updated"))})).finally((()=>v(!1)))},children:(0,I.jsx)(b.A,{gutter:12,children:(0,I.jsx)(C.A,{span:24,children:(0,I.jsx)(w.A.Item,{label:d("status"),name:"status",rules:[{required:!0,message:d("required")}],children:(0,I.jsx)(k.A,{children:m.map(((e,t)=>(0,I.jsx)(k.A.Option,{value:e,children:d(e)},e+t)))})})})})})})};var N=a(8168),z=a(28429),P=a(8297),R=a(76083),D=a(53271),E=a(79093),B=a(83090),F=a(81938),$=a(9690),K=a(72124),O=a(65820);a(48676);const{TabPane:T}=n.A,V=["all","new","accepted","canceled","rejected"];const X=function(){var e,t,a,w,y,b;const{t:C}=(0,s.B)(),k=(0,l.wA)(),S=(0,z.Zp)(),_=(0,O.s)(),{activeMenu:X}=(0,l.d4)((e=>e.menu),l.bN),{invitations:q,loading:Z,params:H,meta:Q}=(0,l.d4)((e=>e.invitations),l.bN),W=(0,l.d4)((e=>{var t,a;return null===(t=e.myShop)||void 0===t||null===(a=t.myShop)||void 0===a?void 0:a.id})),{myShop:G}=(0,l.d4)((e=>e.myShop),l.bN),{setIsModalVisible:J}=(0,i.useContext)(A.o),[L,U]=(0,i.useState)((null===(e=X.data)||void 0===e?void 0:e.role)||V[0]),[Y,ee]=(0,i.useState)(null),[te,ae]=(0,i.useState)(null),[ie,se]=(0,i.useState)(!1),[le]=(0,i.useState)([{title:C("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:C("image"),dataIndex:"img",is_show:!0,render:e=>(0,I.jsx)(d.A,{width:100,height:100,src:p.sE+e,placeholder:!0,style:{borderRadius:4,objectFit:"cover"}})},{title:C("fullname"),dataIndex:"fullname",is_show:!0},{title:C("phone"),dataIndex:"phone",is_show:!0,render:e=>(0,I.jsx)("a",{href:`tel:${e}`,children:e})},{title:C("email"),dataIndex:"email",is_show:!0,render:e=>(0,I.jsx)("a",{href:`mailto:${e}`,children:e})},{title:C("gender"),dataIndex:"gender",is_show:!0},{title:C("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>{var a,i;const s=t.invitations.findIndex((e=>(null===e||void 0===e?void 0:e.shop_id)===W)),l=null===t||void 0===t||null===(a=t.invitations)||void 0===a||null===(i=a[s])||void 0===i?void 0:i.status;return(0,I.jsxs)("div",{children:["new"===l?(0,I.jsx)(o.A,{color:"blue",children:C(l)}):"rejected"===l||"canceled"===l?(0,I.jsx)(o.A,{color:"error",children:C(l)}):(0,I.jsx)(o.A,{color:"cyan",children:C(l)}),(0,I.jsx)(x.A,{onClick:()=>{var e;ee({id:null===t||void 0===t||null===(e=t.invitations[s])||void 0===e?void 0:e.id,status:l})}})]})}},{title:C("options"),dataIndex:"options",is_show:!0,render:(e,t)=>{var a,i;const s=null===t||void 0===t||null===(a=t.invitations)||void 0===a||null===(i=a.filter((e=>(null===e||void 0===e?void 0:e.shop_id)===(null===G||void 0===G?void 0:G.id))))||void 0===i?void 0:i[0];return(0,I.jsxs)(r.A,{wrap:!0,children:[(0,I.jsx)(c.A,{type:"primary",icon:(0,I.jsx)(x.A,{}),onClick:()=>re(null===t||void 0===t?void 0:t.uuid,null===t||void 0===t?void 0:t.id),disabled:"accepted"!==(null===s||void 0===s?void 0:s.status)}),(0,I.jsx)(c.A,{icon:(0,I.jsx)(g.A,{}),onClick:()=>{ae(null===t||void 0===t?void 0:t.uuid),J(!0)},loading:ie})]})}}]),ne=X.data,de={search:null===ne||void 0===ne?void 0:ne.search,sort:null===ne||void 0===ne?void 0:ne.sort,perPage:null===ne||void 0===ne?void 0:ne.perPage,page:null===ne||void 0===ne?void 0:ne.page,invite_status:"all"!==L?L:null};null!==ne&&void 0!==ne&&null!==(t=ne.search)&&void 0!==t&&null!==(a=t.trim())&&void 0!==a&&a.length||null===de||void 0===de||delete de.search;const oe=e=>{const t=X.data;k((0,h.Ok)({activeMenu:X,data:{...t,...e}}))};(0,i.useEffect)((()=>{X.refetch&&!ie&&(0,l.vA)((()=>{k((0,f.w)(de)),k((0,h.km)(X))}))}),[X.refetch]),(0,j.A)((()=>{ie||k((0,f.w)(de))}),[X.data]);const re=(e,t)=>{k((0,h.X4)({id:"seller-master-edit",url:`seller/invitations/masters/edit/${e}`,name:C("edit.master")})),_.set("master_id",t),S(`/seller/invitations/masters/edit/${e}`,{state:{paramsData:de}})};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(u.A,{children:[(0,I.jsx)(r.A,{wrap:!0,size:[14,20],children:(0,I.jsx)(P.A,{placeholder:C("search"),handleChange:e=>oe({search:e})})}),(0,I.jsx)(c.A,{type:"primary",style:{float:"right"},onClick:()=>{k((0,h.X4)({id:"seller-master-add",url:"seller/invitations/masters/add",name:C("add.master")})),S("add",{state:{paramsData:de}})},children:C("add.master")})]}),(0,I.jsxs)(u.A,{children:[(0,I.jsx)(n.A,{className:"mt-3",activeKey:L,onChange:e=>{oe({role:e,page:1}),U(e)},type:"card",children:V.map((e=>(0,I.jsx)(T,{tab:C(e)},e)))}),(0,I.jsx)(v.A,{locale:{emptyText:(0,I.jsx)(m.A,{})},scroll:{x:!0},loading:Z,columns:null===le||void 0===le?void 0:le.filter((e=>e.is_show)),dataSource:q,pagination:{pageSize:H.perPage,page:(null===(w=X.data)||void 0===w?void 0:w.page)||1,total:Q.total,defaultCurrent:null===(y=X.data)||void 0===y?void 0:y.page,current:null===(b=X.data)||void 0===b?void 0:b.page},onChange:function(e,t,a){const{pageSize:i,current:s}=e,{field:l,order:n}=a,d=(0,N.A)(n);k((0,h.Ok)({activeMenu:X,data:{...X.data,perPage:i,page:s,column:l,sort:d}}))},rowKey:e=>e.id}),Y&&(0,I.jsx)(M,{invitationDetails:Y,handleCancel:()=>ee(null),paramsData:de})]}),(0,I.jsx)(R.A,{text:C("do.you.want.login.as.this.master"),click:()=>{se(!0),D.A.loginAs(te).then((e=>{var t,a,i,s,n,d,o,r,c,u,v,m,p,x,g,A;const f={fullName:(null===(t=e.data)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.firstname)||" "+(null===(i=e.data)||void 0===i||null===(s=i.user)||void 0===s?void 0:s.lastname)||0,role:"master",urls:E.p.master,img:null===(n=e.data)||void 0===n||null===(d=n.user)||void 0===d?void 0:d.img,token:null===(o=e.data)||void 0===o?void 0:o.access_token,email:null===(r=e.data)||void 0===r?void 0:r.user.email,id:null===(c=e.data)||void 0===c||null===(u=c.user)||void 0===u?void 0:u.id,shop_id:null===(v=e.data)||void 0===v||null===(m=v.user)||void 0===m||null===(p=m.shop)||void 0===p?void 0:p.id,walledId:null===(x=e.data)||void 0===x||null===(g=x.user)||void 0===g||null===(A=g.wallet)||void 0===A?void 0:A.id};(0,l.vA)((()=>{k((0,h.tA)()),k((0,B.EW)(null)),k((0,F.sX)(f)),k((0,$.wR)()),k((0,h.km)(X))})),K.A.show(f.id).then((e=>{k((0,F.TK)(e.data))})).catch((e=>{throw e})),localStorage.setItem("token",e.data.access_token),S("/dashboard")})).finally((()=>{se(!1),J(!1)}))}})]})}},65820:(e,t,a)=>{a.d(t,{s:()=>n});var i=a(28429),s=a(21215),l=a.n(s);const n=()=>{const e=(0,i.Zp)(),t=(0,i.zy)(),a=l().parse(t.search,{ignoreQueryPrefix:!0});return{values:a,set:(t,i)=>e({search:l().stringify({...a,[t]:i})}),reset:t=>{const i={...a};i[t]&&delete i[t],e({search:l().stringify({...i})})},clear:()=>e({search:l().stringify({})}),merge:t=>e({search:l().stringify({...a,...t})})}}}}]);