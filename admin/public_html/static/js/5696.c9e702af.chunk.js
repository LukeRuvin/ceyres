(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5696],{8297:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var l=n(9950),i=n(55902),a=n(41397),o=n(60767),d=n(44414);function r(e){let{handleChange:t,defaultValue:n,resetSearch:r,...s}=e;const[u,v]=(0,l.useState)(n),c=(0,l.useMemo)((()=>(0,a.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{v(n)}),[r]),(0,d.jsx)(i.A,{value:u,onChange:e=>{v(e.target.value),c(e.target.value)},prefix:(0,d.jsx)(o.A,{}),...s})}},22763:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var l=n(87094),i=n(41988),a=n(48538),o=n(91524),d=n(70030),r=n(9950),s=n(44414);const u=e=>{let{data:t}=e;const{t:n}=(0,d.B)();return(0,s.jsxs)(o.A,{bordered:!0,title:n("master"),children:[(0,s.jsx)(o.A.Item,{label:n("id"),span:3,children:null===t||void 0===t?void 0:t.id}),(0,s.jsx)(o.A.Item,{label:n("fullname"),span:3,children:(null===t||void 0===t?void 0:t.full_name)||"N/A"}),(0,s.jsx)(o.A.Item,{label:n("phone"),span:3,children:null!==t&&void 0!==t&&t.phone?(0,s.jsxs)("a",{href:`tel:${null!==t&&void 0!==t&&t.phone.startsWith("+")?"":"+"}${null===t||void 0===t?void 0:t.phone}`,children:[null!==t&&void 0!==t&&t.phone.startsWith("+")?"":"+",null===t||void 0===t?void 0:t.phone]}):"N/A"}),(0,s.jsx)(o.A.Item,{label:n("email"),span:3,children:null!==t&&void 0!==t&&t.email?(0,s.jsx)("a",{href:`mailto:${null===t||void 0===t?void 0:t.email}`,children:null===t||void 0===t?void 0:t.email}):"N/A"})]})},v=e=>{let{data:t,userExtraData:n}=e;const{t:l}=(0,d.B)(),i=(null===n||void 0===n?void 0:n.phone)||(null===t||void 0===t?void 0:t.phone);return(0,s.jsxs)(o.A,{bordered:!0,title:l("client"),children:[(0,s.jsx)(o.A.Item,{label:l("id"),span:3,children:null===t||void 0===t?void 0:t.id}),(0,s.jsx)(o.A.Item,{label:l("fullname"),span:3,children:(null===n||void 0===n?void 0:n.firstname)+((null===n||void 0===n?void 0:n.lastname)&&` ${null===n||void 0===n?void 0:n.lastname}`)||(null===t||void 0===t?void 0:t.full_name)||"N/A"}),(0,s.jsx)(o.A.Item,{label:l("phone"),span:3,children:i?(0,s.jsxs)("a",{href:`tel:${i.startsWith("+")?"":"+"}${i}`,children:[i.startsWith("+")?"":"+",i]}):"N/A"}),(0,s.jsx)(o.A.Item,{label:l("email"),span:3,children:null!==t&&void 0!==t&&t.email?(0,s.jsx)("a",{href:`mailto:${null===t||void 0===t?void 0:t.email}`,children:null===t||void 0===t?void 0:t.email}):"N/A"}),(null===n||void 0===n?void 0:n.zipcode)&&(0,s.jsx)(o.A.Item,{label:l("zipcode"),span:3,children:null===n||void 0===n?void 0:n.zipcode}),(null===n||void 0===n?void 0:n.street_house_number)&&(0,s.jsx)(o.A.Item,{label:l("street.house.number"),span:3,children:null===n||void 0===n?void 0:n.street_house_number}),(null===n||void 0===n?void 0:n.address)&&(0,s.jsx)(o.A.Item,{label:l("address"),span:3,children:(0,s.jsx)("a",{href:`https://www.google.com/maps/search/?api=1&query=${null===n||void 0===n?void 0:n.lat},${null===n||void 0===n?void 0:n.long}`,target:"_blank",rel:"noreferrer",children:null===n||void 0===n?void 0:n.address})}),(null===n||void 0===n?void 0:n.address)&&(0,s.jsx)(o.A.Item,{label:l("additional.details"),span:3,children:null===n||void 0===n?void 0:n.additional_details})]})},c=e=>{var t,n;let{data:l}=e;const{t:i}=(0,d.B)();return(0,s.jsxs)(o.A,{bordered:!0,title:i("shop"),children:[(0,s.jsx)(o.A.Item,{label:i("id"),span:3,children:null===l||void 0===l?void 0:l.id}),(0,s.jsx)(o.A.Item,{label:i("title"),span:3,children:null===l||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title}),(0,s.jsx)(o.A.Item,{label:i("address"),span:3,children:null===l||void 0===l||null===(n=l.translation)||void 0===n?void 0:n.address}),(0,s.jsx)(o.A.Item,{label:i("open"),span:3,children:Boolean(null===l||void 0===l?void 0:l.open)?i("yes"):i("no")})]})};var p=n(91854),h=n(53774);const m=e=>{var t;let{data:n}=e;const{t:l}=(0,d.B)(),{defaultCurrency:i}=(0,p.d4)((e=>e.currency),p.bN);return(0,s.jsxs)(o.A,{bordered:!0,title:l("transaction"),children:[(0,s.jsx)(o.A.Item,{label:l("id"),span:12,children:null===n||void 0===n?void 0:n.id}),(0,s.jsx)(o.A.Item,{label:l("price"),span:12,children:(0,h.default)(null===n||void 0===n?void 0:n.price,null===i||void 0===i?void 0:i.symbol,null===i||void 0===i?void 0:i.position)}),(0,s.jsx)(o.A.Item,{label:l("payment.type"),span:12,children:null===n||void 0===n||null===(t=n.payment_system)||void 0===t?void 0:t.tag}),(0,s.jsx)(o.A.Item,{label:l("status"),span:12,children:null===n||void 0===n?void 0:n.status})]})};var f=n(85217);const A=e=>{let{data:t}=e;const{t:n}=(0,d.B)(),[o,p]=(0,r.useState)(!1);return(0,s.jsxs)(l.A,{gutter:24,style:{display:"flex",rowGap:"24px",flexWrap:"wrap"},children:[(0,s.jsx)(i.A,{span:24,children:(0,s.jsx)(v,{userExtraData:null===t||void 0===t?void 0:t.data,data:null===t||void 0===t?void 0:t.user})}),(0,s.jsx)(i.A,{span:12,children:(0,s.jsx)(u,{data:null===t||void 0===t?void 0:t.master})}),(0,s.jsx)(i.A,{span:12,children:(0,s.jsx)(m,{data:null===t||void 0===t?void 0:t.transaction})}),(0,s.jsx)(i.A,{span:24,children:(0,s.jsx)(c,{data:null===t||void 0===t?void 0:t.shop})}),(0,s.jsx)(i.A,{span:24,children:!(null===t||void 0===t||!t.id)&&(0,s.jsx)(a.A,{loading:o,onClick:async()=>{p(!0),await(0,f.It)(null===t||void 0===t?void 0:t.id).finally((()=>{p(!1)}))},htmlType:"button",children:n("download.invoice")})})]})}},35116:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(9950);var l=n(48538),i=n(44070),a=n(85923),o=n(70030),d=n(13311),r=n(44414);function s(e){let{size:t="",onClick:n,type:s="default",...u}=e;const{t:v}=(0,o.B)(),{isDemo:c}=(0,d.A)();return(0,r.jsx)(l.A,{size:t,icon:(0,r.jsx)(i.A,{}),onClick:e=>{c?a.oR.warning(v("cannot.work.demo")):n(e)},type:s,...u})}},39362:function(e,t){var n,l,i;l=[],void 0===(i="function"===typeof(n=function(){return function e(t,n,l){var i,a,o=window,d="application/octet-stream",r=l||d,s=t,u=!n&&!l&&s,v=document.createElement("a"),c=function(e){return String(e)},p=o.Blob||o.MozBlob||o.WebKitBlob||c,h=n||"download";if(p=p.call?p.bind(o):Blob,"true"===String(this)&&(r=(s=[s,r])[0],s=s[1]),u&&u.length<2048&&(h=u.split("/").pop().split("?")[0],v.href=u,-1!==v.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,h,d)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(s)){if(!(s.length>2096103.424&&p!==c))return navigator.msSaveBlob?navigator.msSaveBlob(g(s),h):x(s);r=(s=g(s)).type||d}else if(/([\x80-\xff])/.test(s)){for(var f=0,A=new Uint8Array(s.length),b=A.length;f<b;++f)A[f]=s.charCodeAt(f);s=new p([A],{type:r})}function g(e){for(var t=e.split(/[:;,]/),n=t[1],l=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=l.length,a=0,o=new Uint8Array(i);a<i;++a)o[a]=l.charCodeAt(a);return new p([o],{type:n})}function x(e,t){if("download"in v)return v.href=e,v.setAttribute("download",h),v.className="download-js-link",v.innerHTML="downloading...",v.style.display="none",document.body.appendChild(v),setTimeout((function(){v.click(),document.body.removeChild(v),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(v.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(i=s instanceof p?s:new p([s],{type:r}),navigator.msSaveBlob)return navigator.msSaveBlob(i,h);if(o.URL)x(o.URL.createObjectURL(i),!0);else{if("string"===typeof i||i.constructor===c)try{return x("data:"+r+";base64,"+o.btoa(i))}catch(y){return x("data:"+r+","+encodeURIComponent(i))}(a=new FileReader).onload=function(e){x(this.result)},a.readAsDataURL(i)}return!0}})?n.apply(t,l):n)||(e.exports=i)},51066:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var l=n(17706),i=n(80415);const a=()=>{var e,t,n,a;return null!==(e=null===(t=l.M.getState())||void 0===t||null===(n=t.globalSettings)||void 0===n||null===(a=n.settings)||void 0===a?void 0:a.hour_format)&&void 0!==e?e:i.G}},53774:(e,t,n)=>{"use strict";function l(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?`${n} ${e}`:`${e} ${n}`}n.r(t),n.d(t,{default:()=>l})},65820:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var l=n(28429),i=n(21215),a=n.n(i);const o=()=>{const e=(0,l.Zp)(),t=(0,l.zy)(),n=a().parse(t.search,{ignoreQueryPrefix:!0});return{values:n,set:(t,l)=>e({search:a().stringify({...n,[t]:l})}),reset:t=>{const l={...n};l[t]&&delete l[t],e({search:a().stringify({...l})})},clear:()=>e({search:a().stringify({})}),merge:t=>e({search:a().stringify({...n,...t})})}}},74142:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var l=n(82371);const i="rest/services",a={getAll:e=>l.A.get(i,{params:e}),getById:(e,t)=>l.A.get(`${i}/${e}`,{params:t}),create:e=>l.A.post(i,e,{}),update:(e,t)=>l.A.put(`${i}/${e}`,t,{}),delete:e=>l.A.delete(`${i}/delete`,{params:e}),statusChange:(e,t)=>l.A.put(`${i}/${e}`,t)}},80415:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,HV:()=>i,LH:()=>l,PR:()=>a,wO:()=>r,xt:()=>d});const l={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},i=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),a=30,o="HH:mm",d="hh:mm a",r=!0},85217:(e,t,n)=>{"use strict";n.d(t,{It:()=>h,Ox:()=>c,_u:()=>p,dM:()=>v,hU:()=>u});n(13567),n(34996);var l=n(50686),i=n(74142),a=n(55660),o=n(53271),d=n(43957),r=n(39362),s=n.n(r);async function u(e){const t={search:e,perPage:10};return o.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:`${null===e||void 0===e?void 0:e.firstname} ${null===e||void 0===e?void 0:e.lastname}`,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))}async function v(e){let{service_id:t,shop_id:n,search:i}=e;const a={perPage:10,role:"master",search:null!==i&&void 0!==i&&i.length?i:void 0,service_id:t,shop_id:n};return l.A.getAll(a).then((e=>{let{data:t}=e;return t.map((e=>({label:`${null===e||void 0===e?void 0:e.firstname} ${null===e||void 0===e?void 0:e.lastname}`,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))}const c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return await i.A.getAll(e).then((e=>{let{data:n}=e;return null===n||void 0===n?void 0:n.map((e=>{var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:null===e||void 0===e?void 0:e.id,key:`${null===e||void 0===e?void 0:e.id} ${e.type}`,disabled:!(null===t||void 0===t||!t.length)&&!(null===t||void 0===t||!t.find((t=>{var n,l;return(null===t||void 0===t||null===(n=t.service_master)||void 0===n||null===(l=n.service)||void 0===l?void 0:l.id)===(null===e||void 0===e?void 0:e.id)})))}}))}))};async function p(e){const t={search:e,status:"approved"};return a.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))}))}async function h(e){return d.A.downloadInvoice(e).then((t=>s()(t,`booking-invoice-${e}.pdf`,"application/pdf")))}}}]);