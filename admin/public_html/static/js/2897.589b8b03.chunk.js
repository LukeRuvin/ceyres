"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2897],{1617:(e,t,n)=>{Object.defineProperty(t,"usePlacesWidget",{enumerable:!0,get:function(){return a.default}});var r=o(n(14345)),a=o(n(13870));function o(e){return e&&e.__esModule?e:{default:e}}},6566:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(17706);const a=()=>{var e,t;const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_DEMO:"true"}.MAP_API_KEY,{google_map_key:a}=null===(e=r.M.getState())||void 0===e||null===(t=e.globalSettings)||void 0===t?void 0:t.settings;return a||n}},13870:(e,t,n)=>{function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ref,n=e.onPlaceSelected,r=e.apiKey,s=e.libraries,i=void 0===s?"places":s,u=e.inputAutocompleteValue,c=void 0===u?"new-password":u,p=e.options,m=(p=void 0===p?{}:p).types,f=void 0===m?["(cities)"]:m,g=p.componentRestrictions,v=p.fields,h=void 0===v?["address_components","geometry.location","place_id","formatted_address"]:v,y=p.bounds,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(p,["types","componentRestrictions","fields","bounds"]),j=e.googleMapsScriptBaseUrl,x=void 0===j?l.GOOGLE_MAP_SCRIPT_BASE_URL:j,A=e.language,w=(0,a.useRef)(null),O=(0,a.useRef)(null),S=(0,a.useRef)(null),P=A?"&language=".concat(A):"",k="".concat(x,"?libraries=").concat(i,"&key=").concat(r).concat(P),_=(0,a.useCallback)((function(){return(0,o.loadGoogleMapScript)(x,k)}),[x,k]);return(0,a.useEffect)((function(){var e=d(d({},b),{},{fields:h,types:f,bounds:y});if(g&&(e.componentRestrictions=g),!S.current&&w.current&&o.isBrowser){t&&!t.current&&(t.current=w.current);var a=function(){var t;return"undefined"===typeof google?console.error("Google has not been found. Make sure your provide apiKey prop."):null!==(t=google.maps)&&void 0!==t&&t.places?w.current instanceof HTMLInputElement?(S.current=new google.maps.places.Autocomplete(w.current,e),void(S.current&&(O.current=S.current.addListener("place_changed",(function(){n&&S&&S.current&&n(S.current.getPlace(),w.current,S.current)}))))):console.error("Input ref must be HTMLInputElement."):console.error("Google maps places API must be loaded.")};return r?_().then((function(){return a()})):a(),function(){return O.current?O.current.remove():void 0}}}),[]),(0,a.useEffect)((function(){if(o.isBrowser&&window.MutationObserver&&w.current&&w.current instanceof HTMLInputElement){var e=new MutationObserver((function(){e.disconnect(),w.current&&(w.current.autocomplete=c)}));return e.observe(w.current,{attributes:!0,attributeFilter:["autocomplete"]}),function(){e.disconnect()}}}),[c]),(0,a.useEffect)((function(){S.current&&S.current.setFields(h)}),[h]),(0,a.useEffect)((function(){S.current&&S.current.setBounds(y)}),[y]),(0,a.useEffect)((function(){S.current&&S.current.setComponentRestrictions(g)}),[g]),(0,a.useEffect)((function(){S.current&&S.current.setOptions(b)}),[b]),{ref:w,autocompleteRef:S}};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(9950)),o=n(8668),l=n(34040);function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},14345:(e,t,n)=>{function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=o?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(a,l,s):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(9950)),o=s(n(11942)),l=s(n(13870));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(e){var t=e.onPlaceSelected,n=e.apiKey,r=e.libraries,o=e.inputAutocompleteValue,s=e.options,i=e.googleMapsScriptBaseUrl,c=e.refProp,p=e.language,m=u(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),f=(0,l.default)({ref:c,googleMapsScriptBaseUrl:i,onPlaceSelected:t,apiKey:n,libraries:r,inputAutocompleteValue:o,options:s,language:p}).ref;return a.default.createElement("input",d({ref:f},m))}c.propTypes={apiKey:o.default.string,libraries:o.default.arrayOf(o.default.string),ref:o.default.oneOfType([o.default.func,o.default.shape({current:o.default.any})]),googleMapsScriptBaseUrl:o.default.string,onPlaceSelected:o.default.func,inputAutocompleteValue:o.default.string,options:o.default.shape({componentRestrictions:o.default.object,bounds:o.default.object,location:o.default.object,offset:o.default.number,origin:o.default.object,radius:o.default.number,sessionToken:o.default.object,types:o.default.arrayOf(o.default.string)}),language:o.default.string};var p=(0,a.forwardRef)((function(e,t){return a.default.createElement(c,d({},e,{refProp:t}))}));t.default=p},28257:(e,t,n)=>{n.d(t,{A:()=>m});n(9950);var r=n(84619),a=n(96011),o=n.n(a),l=n(63620);var s=n(91854),i=n(99674),d=n(59233),u=n(74635),c=n(44414);const p=l.bo?{componentRestrictions:{country:l.bo}}:{},m=e=>{let{value:t,setValue:n,setLocation:a,withLanguages:m=!0}=e;const{placePredictions:f,getPlacePredictions:g,isPlacePredictionsLoading:v}=(0,r.A)({apiKey:l.CJ,libraries:["places","geocode"],options:p}),{defaultLang:h,languages:y}=(0,s.d4)((e=>e.formLang),s.bN),b=()=>(0,c.jsx)(i.A,{allowClear:!0,searchValue:t,showSearch:!0,autoClearSearchValue:!0,loading:v,options:null===f||void 0===f?void 0:f.map((e=>({label:e.description,value:e.description}))),onSearch:e=>{n(e),e.length>0&&g({input:e})},onSelect:async e=>{const t=await async function(e){let t={address:e,key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.CJ};return o().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((e=>{let{data:t}=e;return t.results[0]})).catch((e=>"not found"))}(e);a({lat:null===t||void 0===t?void 0:t.geometry.location.lat,lng:null===t||void 0===t?void 0:t.geometry.location.lng})},getPopupContainer:e=>e.parentNode});return m?(0,c.jsx)(c.Fragment,{children:y.map(((e,t)=>(0,c.jsx)(d.A.Item,{label:(0,u.t)("address"),name:`address[${e.locale}]`,rules:[{required:e.locale===h,message:(0,u.t)("required")}],hidden:e.locale!==h,children:b()},"address"+t)))}):(0,c.jsx)(d.A.Item,{label:(0,u.t)("address"),name:"address",rules:[{required:!0,message:(0,u.t)("required")}],children:b()})}},29597:(e,t,n)=>{function r(e){var t;if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const n=null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}n.d(t,{A:()=>r})},31281:(e,t,n)=>{function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const r=e.map((e=>({[e.locale]:""===t[`${n}[${e.locale}]`]?void 0:t[`${n}[${e.locale}]`]})));return Object.assign({},...r)}n.d(t,{A:()=>r})},34422:(e,t,n)=>{n.d(t,{Q:()=>o});var r=n(59051),a=n.n(r);const o=[{title:"monday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")}]},39738:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J,steps:()=>Q});var r=n(9950),a=n(86366),o=n(87094),l=n(41988),s=n(23263),i=n(91854),d=n(74623),u=n(71999),c=n(48970),p=n(88865),m=n(79406),f=n(2905),g=n(78687),v=n(82206),h=n(78498),y=(n(54311),n(64988)),b=n(44414);var j=n(74635),x=n(81446),A=n(59051),w=n.n(A),O=n(82371);const S={getById:e=>O.A.get(`dashboard/admin/warehouse-working-days/${e}`),create:e=>O.A.post("dashboard/admin/warehouse-working-days",e,{}),update:(e,t)=>O.A.put(`dashboard/admin/warehouse-working-days/${e}`,t,{}),delete:e=>O.A.delete("dashboard/admin/warehouse-working-days",{params:e})},P={getById:e=>O.A.get(`dashboard/admin/warehouse-closed-dates/${e}`),create:e=>O.A.post("dashboard/admin/warehouse-closed-dates",e,{}),update:(e,t)=>O.A.put(`dashboard/admin/warehouse-closed-dates/${e}`,t,{}),delete:e=>O.A.delete("dashboard/admin/warehouse-closed-dates/delete",{params:e})};var k=n(34422),_=n(59233),H=n(12916),M=n(80737),N=n(48538),C=n(57796),E=n(25933),F=n(70030),I=n(50384),L=n(13239),D=n(94118),R=n(9213),B=n(51066);const T=e=>{let{onFinish:t,prev:n,form:a,lines:d,loadingBtn:u,days:c,setDays:p,setLines:m,weeks:f}=e;const{t:g}=(0,F.B)(),v=[{from:new Date(1900,4,18),to:new Date(w()().subtract(1,"days"))}],h=(0,i.d4)((e=>{var t,n;return null===(t=e.globalSettings)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.using_12_hour_format}),i.bN),y=(0,B.Q)(),[j,x]=(0,r.useState)(!0),A=c&&c.length>0?(0,b.jsxs)(o.A,{children:[(0,b.jsx)(H.A,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:g("Your.existing.vacations")}),(0,b.jsxs)(l.A,{span:24,className:"mt-2",children:[c.slice(0,j?1:c.length).map(((e,t)=>(0,b.jsxs)(M.A,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,b.jsx)(l.A,{span:24,style:{fontSize:14,marginTop:"8px"},children:w()(e).format("YYYY-MM-DD")}),(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(H.A,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return t=e,p(c.filter((e=>e!==t)));var t},children:g("remove")})})]},t))),(0,b.jsx)(N.A,{className:"mt-3 w-100",onClick:()=>{x(!j)},children:j?(0,b.jsx)(I.U29,{}):(0,b.jsx)(I.ZXT,{})})]})]}):(0,b.jsx)(H.A,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),O=(e,t)=>{const n=[];for(let r=e;r<t;r++)n.push(r);return n},S=()=>({disabledHours:()=>O(0,1),disabledMinutes:()=>O(0,0),disabledSeconds:()=>O(0,60)});return(0,b.jsx)(_.A,{form:a,layout:"vertical",onFinish:t,children:(0,b.jsxs)(o.A,{gutter:[24,24],children:[(0,b.jsx)(l.A,{span:12,children:(0,b.jsx)(s.A,{title:g("warehouse.working.days"),className:"h-100",children:(0,b.jsx)(o.A,{gutter:24,children:(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(_.A.List,{name:"working_days",children:e=>(0,b.jsx)("div",{children:e.map(((e,t)=>(0,b.jsxs)(o.A,{gutter:24,align:"center",children:[(0,b.jsx)(l.A,{span:7,children:(0,b.jsx)(_.A.Item,{name:[t,"day"],children:(0,b.jsx)("span",{children:g(f[t].title)})})}),d[e.key]?(0,b.jsx)(l.A,{span:13,className:"mt-2",children:(0,b.jsx)("span",{children:g("warehouse.closed")})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.A,{span:7,children:(0,b.jsx)(_.A.Item,{rules:[{required:!1===d[e.key]}],name:[t,"from"],children:(0,b.jsx)(C.A,{format:y,use12Hour:"1"===h,disabledTime:S,picker:"time",placeholder:g("start.time")})})}),(0,b.jsx)(l.A,{span:6,children:(0,b.jsx)(_.A.Item,{rules:[{required:!1===d[e.key]}],name:[t,"to"],children:(0,b.jsx)(C.A,{format:y,use12Hour:"1"===h,disabledTime:S,picker:"time",placeholder:g("end.time")})})})]}),(0,b.jsx)(l.A,{span:4,children:(0,b.jsx)(_.A.Item,{name:[t,"disabled"],valuePropName:"checked",children:(0,b.jsx)(E.A,{checkedChildren:(0,b.jsx)(L.A,{}),unCheckedChildren:(0,b.jsx)(D.A,{}),checked:d[e.key],onChange:()=>(e=>{const t=[...d];t[e]=!d[e],m(t)})(e.key)})})})]},e.key)))})})})})})}),(0,b.jsx)(l.A,{span:12,children:(0,b.jsxs)(s.A,{title:g("warehouse.closed.days"),className:"h-100",children:[(0,b.jsx)("p",{children:g("warehouse.closed.days.text")}),(0,b.jsx)(_.A.Item,{rules:[{required:!1,message:g("required")}],children:(0,b.jsx)(R.hv,{className:"datepicker",mode:"multiple",disabled:v,min:1,selected:c,onSelect:p,footer:A,showOutsideDays:!0})})]})}),(0,b.jsxs)(l.A,{span:24,className:"d-flex justify-content-between",children:[(0,b.jsx)(N.A,{htmlType:"submit",onClick:()=>n(),children:g("prev")}),(0,b.jsx)(N.A,{type:"primary",htmlType:"submit",loading:u,children:g("submit")})]})]})})};var q=n(28429);n(925);const V=e=>{let{prev:t}=e;const[n]=_.A.useForm(),a=(0,q.Zp)(),{activeMenu:o}=((0,i.wA)(),(0,i.d4)((e=>e.menu),i.bN)),[l,s]=(0,r.useState)([]),[d,u]=(0,r.useState)(new Array(7).fill(!1)),[c,p]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),g=(0,r.useMemo)((()=>{var e;return null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.id}),[null===o||void 0===o?void 0:o.data]);return(0,r.useEffect)((()=>{n.setFieldsValue({working_days:k.Q}),g&&(f(!0),P.getById(g).then((e=>{s(e.data.closed_dates.filter((e=>e.day>w()(new Date).format("YYYY-MM-DD"))).map((e=>new Date(e.day))))})),S.getById(g).then((e=>{u(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&n.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:w()(e.from,"HH:mm:ss"),to:w()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})})).finally((()=>f(!1))))}),[]),(0,b.jsx)(b.Fragment,{children:m?(0,b.jsx)(x.A,{}):(0,b.jsx)(T,{onFinish:e=>{p(!0);const t={warehouse_id:g,dates:l?l.map((e=>w()(e).format("YYYY-MM-DD"))):void 0},n={warehouse_id:g,dates:e.working_days.map((e=>({day:e.title,from:w()(e.from?e.from:"00").format("HH:mm"),to:w()(e.to?e.to:"00").format("HH:mm"),disabled:e.disabled})))};0!==e.working_days.length&&S.update(g,n).then((()=>{})).finally((()=>p(!1))),P.update(g,t).then((()=>{a("/warehouse")})).finally((()=>p(!1)))},prev:t,form:n,lines:d,loadingBtn:c,days:l,setDays:s,setLines:u,weeks:k.Q})})};var $=n(92759),W=n(55902),Y=n(31281),K=n(28257),z=n(29597);const U=e=>{let{next:t}=e;const{t:n}=(0,F.B)(),a=(0,i.wA)(),[j]=_.A.useForm(),{activeMenu:x}=(0,i.d4)((e=>e.menu),i.bN),{settings:A}=(0,i.d4)((e=>e.globalSettings),i.bN),[w,O]=(0,r.useState)([]),[S,P]=(0,r.useState)(null),[k,H]=(0,r.useState)([]),[M,C]=(0,r.useState)((0,z.A)(A)),[I,L]=(0,r.useState)(""),[D,R]=(0,r.useState)(!1),[B,T]=(0,r.useState)({}),{country:q,region:V,city:U}=B,{languages:G,defaultLang:Q}=(0,i.d4)((e=>e.formLang),i.bN);function J(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,n=G.map((e=>{var n,r;return{[`title[${e.locale}]`]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.title,[`address[${e.locale}]`]:null===(r=t.find((t=>t.locale===e.locale)))||void 0===r?void 0:r.address}}));return Object.assign({},...n)}(0,r.useEffect)((()=>{H(!0),p.A.get().then((e=>{var t,n,r,a;let{data:o}=e;const{city:l,country:s,region:i,area:d,location:u,address:c,img:p,translation:m,id:f,...g}=(null===o||void 0===o?void 0:o[0])||{},v=`address[${Q}]`,h=`title[${Q}]`,y={area:{label:null===d||void 0===d||null===(t=d.translation)||void 0===t?void 0:t.title,value:null===d||void 0===d?void 0:d.id},city:{label:null===l||void 0===l||null===(n=l.translation)||void 0===n?void 0:n.title,value:null===l||void 0===l?void 0:l.id},country:{label:null===s||void 0===s||null===(r=s.translation)||void 0===r?void 0:r.title,value:null===s||void 0===s?void 0:s.id},region:{label:null===i||void 0===i||null===(a=i.translation)||void 0===a?void 0:a.title,value:null===i||void 0===i?void 0:i.id}},b={...J(null===o||void 0===o?void 0:o[0]),...y,...g,[v]:null===c||void 0===c?void 0:c[Q],[h]:null===m||void 0===m?void 0:m.title};P(f),j.setFieldsValue(b),T(y),u&&C({lat:null===u||void 0===u?void 0:u.latitude,lng:null===u||void 0===u?void 0:u.longitude}),p&&O([{name:p}])})).catch((e=>{console.error(e)})).finally((()=>H(!1)))}),[]);return(0,b.jsxs)(_.A,{name:"add.delivery.point",layout:"vertical",onFinish:e=>{R(!0);const{area:r,city:o,country:l,region:s,active:i}=e,u={location:{latitude:null===M||void 0===M?void 0:M.lat,longitude:null===M||void 0===M?void 0:M.lng},active:i?1:0,area_id:null===r||void 0===r?void 0:r.value,city_id:null===o||void 0===o?void 0:o.value,country_id:null===l||void 0===l?void 0:l.value,region_id:null===s||void 0===s?void 0:s.value,images:w.map((e=>e.name)),title:(0,Y.A)(G,e,"title"),address:(0,Y.A)(G,e,"address")};S?((e,r)=>{p.A.update(e,r).then((()=>{$.Ay.success(n("successfully"));const r=j.getFieldsValue(!0);a((0,d.Ok)({activeMenu:x,data:{...r,id:e}})),t()})).finally((()=>R(!1)))})(S,u):(e=>{p.A.create(e).then((e=>{let{data:r}=e;$.Ay.success(n("successfully.created"));const o=j.getFieldsValue(!0);a((0,d.Ok)({activeMenu:x,data:{...o,id:r.id}})),t()})).finally((()=>R(!1)))})(u)},form:j,initialValues:{clickable:!0,...x.data},children:[(0,b.jsxs)(o.A,{gutter:[24,24],children:[(0,b.jsx)(l.A,{span:12,children:(0,b.jsxs)(s.A,{title:n("deliveryzone"),className:"h-100",loading:k,children:[(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(_.A.Item,{label:n("region"),name:"region",rules:[{required:!0,message:n("required")}],children:(0,b.jsx)(m.a,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10};return f.A.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,b.jsx)(b.Fragment,{children:e}),refetch:!0,onChange:e=>{T((t=>({...t,region:e}))),j.resetFields(["city","area","country"])}})})}),(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(_.A.Item,{label:n("country"),name:"country",rules:[{required:!0,message:n("required")}],children:(0,b.jsx)(m.a,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,region_id:null===V||void 0===V?void 0:V.value};return g.A.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,b.jsx)(b.Fragment,{children:e}),refetch:!0,onChange:e=>{T((t=>({...t,country:e}))),j.resetFields(["city","area"])},disabled:!Boolean(null===V||void 0===V?void 0:V.value)})})}),(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(_.A.Item,{label:n("city"),name:"city",rules:[{required:!1,message:n("required")}],children:(0,b.jsx)(m.a,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,country_id:null===q||void 0===q?void 0:q.value};return v.A.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,b.jsx)(b.Fragment,{children:e}),refetch:!0,disabled:!Boolean(null===q||void 0===q?void 0:q.value),onChange:e=>{T((t=>({...t,city:e}))),j.resetFields(["area"])}})})}),(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(_.A.Item,{label:n("area"),name:"area",rules:[{required:!1,message:n("required")}],children:(0,b.jsx)(m.a,{fetchOptions:async function(e){const t={search:e,status:1,perPage:10,city_id:null===U||void 0===U?void 0:U.value};return y.A.get(t).then((e=>{let{data:t}=e;return t.map((e=>({label:e.translation.title||"no name",value:e.id})))}))},dropdownRender:e=>(0,b.jsx)(b.Fragment,{children:e}),refetch:!0,disabled:!Boolean(null===U||void 0===U?void 0:U.value)})})})]})}),(0,b.jsx)(l.A,{span:12,children:(0,b.jsx)(s.A,{title:n("media"),className:"h-100",loading:k,children:(0,b.jsx)(l.A,{span:24,children:(0,b.jsxs)(o.A,{gutter:24,children:[(0,b.jsx)(l.A,{span:12,children:(0,b.jsx)(_.A.Item,{rules:[{required:!1,message:n("required")}],label:n("image"),name:"images",children:(0,b.jsx)(c.A,{type:"products",imageList:w,setImageList:O,form:j,length:"1",multiple:!1})})}),(0,b.jsx)(l.A,{span:12,children:(0,b.jsx)(_.A.Item,{label:n("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(E.A,{})})})]})})})}),(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(s.A,{title:n("address"),loading:k,extra:(0,b.jsx)(u.A,{}),children:(0,b.jsxs)(o.A,{gutter:12,children:[(0,b.jsx)(l.A,{span:12,children:(0,b.jsx)(K.A,{setLocation:C,value:I,setValue:L})}),(0,b.jsx)(l.A,{span:12,children:G.map(((e,t)=>(0,b.jsx)(_.A.Item,{label:n("title"),name:`title[${e.locale}]`,rules:[{required:e.locale===Q,message:n("required")}],hidden:e.locale!==Q,children:(0,b.jsx)(W.A,{})},"title"+t)))}),(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(h.A,{location:M,setLocation:C,setAddress:e=>j.setFieldsValue({[`address[${Q}]`]:e})})})]})})})]}),(0,b.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:(0,b.jsx)("div",{className:"pb-5",children:(0,b.jsx)(N.A,{type:"primary",htmlType:"submit",loading:D,children:n("submit")})})})]})},{Step:G}=a.A,Q=[{title:"warehouse",content:"Warehouse"},{title:"working days",content:"Working days"}],J=()=>{var e,t;const[n,i]=(0,r.useState)(0),{id:d}=(0,q.g)(),u=()=>{i(n+1)};return(0,b.jsxs)(o.A,{gutter:[24,24],children:[(0,b.jsx)(l.A,{span:24,children:(0,b.jsx)(s.A,{className:"mb-0",children:(0,b.jsx)(a.A,{current:n,children:Q.map((e=>(0,b.jsx)(G,{title:(0,j.t)(e.title)},e.title)))})})}),(0,b.jsxs)(l.A,{span:24,children:["Warehouse"===(null===(e=Q[n])||void 0===e?void 0:e.content)&&(0,b.jsx)(U,{next:u}),"Working days"===(null===(t=Q[n])||void 0===t?void 0:t.content)&&(0,b.jsx)(V,{next:u,prev:()=>{i(n-1)}})]})]})}},51066:(e,t,n)=>{n.d(t,{Q:()=>o});var r=n(17706),a=n(80415);const o=()=>{var e,t,n,o;return null!==(e=null===(t=r.M.getState())||void 0===t||null===(n=t.globalSettings)||void 0===n||null===(o=n.settings)||void 0===o?void 0:o.hour_format)&&void 0!==e?e:a.G}},54311:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(59233),a=(n(9950),n(56713)),o=n(70030),l=n(91854),s=n(63620),i=n(44414);function d(e){let{setLocation:t,form:n,item:d,idx:u,defaultLang:c}=e;const{t:p}=(0,o.B)(),{google_map_key:m}=(0,l.d4)((e=>e.globalSettings.settings),l.bN),{ref:f}=(0,a.usePlacesWidget)({apiKey:m||s.CJ,onPlaceSelected:e=>{const r={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};t(r),n.setFieldsValue({[`address[${c}]`]:null===e||void 0===e?void 0:e.formatted_address})}});return(0,i.jsx)(r.A.Item,{label:p("address"),name:`address[${null===d||void 0===d?void 0:d.locale}]`,rules:[{required:(null===d||void 0===d?void 0:d.locale)===c,message:p("required")}],hidden:(null===d||void 0===d?void 0:d.locale)!==c,children:(0,i.jsx)("input",{className:"address-input",ref:f,placeholder:""})},"address"+u)}},56713:(e,t,n)=>{e.exports=n(1617)},57796:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(58168),a=n(9950),o=n(86971),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=o.A.TimePicker,i=o.A.RangePicker,d=a.forwardRef((function(e,t){return a.createElement(i,(0,r.A)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:t}))})),u=a.forwardRef((function(e,t){var n=e.addon,o=e.renderExtraFooter,i=e.popupClassName,d=l(e,["addon","renderExtraFooter","popupClassName"]),u=a.useMemo((function(){return o||(n||void 0)}),[n,o]);return a.createElement(s,(0,r.A)({},d,{dropdownClassName:i,mode:void 0,ref:t,renderExtraFooter:u}))}));u.displayName="TimePicker",u.RangePicker=d;const c=u},78498:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(9950),a=n(97239);const o=n.p+"static/media/pin.0e41858db80c699cd8a2.png";var l=n(96011),s=n.n(l),i=n(63620);async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.CJ,n={latlng:`${null===e||void 0===e?void 0:e.lat},${null===e||void 0===e?void 0:e.lng}`,key:t};return s().get("https://maps.googleapis.com/maps/api/geocode/json",{params:n}).then((e=>{var t;let{data:n}=e;return null===(t=n.results[0])||void 0===t?void 0:t.formatted_address})).catch((e=>"not found"))}var u=n(39174),c=n(85923),p=n(70030),m=n(6566),f=n(44414);const g=(0,m.A)();const v=(0,a.GoogleApiWrapper)({apiKey:g,libraries:["places","geometry"]})((function(e){var t,n;const[l,s]=(0,r.useState)(),{t:i}=(0,p.B)(),m=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const t={lat:e.coords.latitude,lng:e.coords.longitude};s(t)}),(function(e){c.oR.warning(i("turn.on.gps"))}))};(0,r.useEffect)((()=>{m()}),[]);const v=[{lat:Number(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.lat)||0,lng:Number(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.lng)||0}];for(var h=new e.google.maps.LatLngBounds,y=0;y<v.length;y++)h.extend(v[y]);return(0,f.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,f.jsx)("button",{className:"map-button",type:"button",onClick:()=>{m(),l&&(async t=>{const n={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng};e.setLocation(n);const r=await d(n,g);e.setAddress(r)})(l)},children:(0,f.jsx)(u.uFi,{})}),(0,f.jsx)(a.Map,{cursor:"pointer",onClick:async(t,n,r)=>{const{latLng:a}=r,o={lat:a.lat(),lng:a.lng()};e.setLocation(o);const l=await d(o,g);e.setAddress(l)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,f.jsx)(a.Marker,{position:e.location,icon:{url:o,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},79406:(e,t,n)=>{n.d(t,{a:()=>d});var r=n(9950),a=n(95491),o=n.n(a),l=n(99674),s=n(90650),i=n(44414);const d=e=>{let{fetchOptions:t,debounceTimeout:n=400,refetch:a=!1,...d}=e;const[u,c]=(0,r.useState)(!1),[p,m]=(0,r.useState)([]),f=(0,r.useMemo)((()=>o()((e=>{m([]),c(!0),t(e).then((e=>{m(e),c(!1)}))}),n)),[t,n]);return(0,i.jsx)(l.A,{showSearch:!0,allowClear:!0,labelInValue:!0,onClear:()=>f(""),filterOption:!1,onSearch:f,notFoundContent:u?(0,i.jsx)(s.A,{size:"small"}):"no results",...d,options:p,onFocus:()=>{p.length&&!a||f("")}})}},80415:(e,t,n)=>{n.d(t,{G:()=>l,HV:()=>a,LH:()=>r,PR:()=>o,wO:()=>i,xt:()=>s});const r={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},a=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),o=30,l="HH:mm",s="hh:mm a",i=!0}}]);