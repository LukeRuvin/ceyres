"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4727],{6566:(e,l,t)=>{t.d(l,{A:()=>a});var s=t(17706);const a=()=>{var e,l;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_DEMO:"true"}.MAP_API_KEY,{google_map_key:a}=null===(e=s.M.getState())||void 0===e||null===(l=e.globalSettings)||void 0===l?void 0:l.settings;return a||t}},12040:(e,l,t)=>{t.d(l,{A:()=>h});var s=t(9950),a=t(59233),i=t(82706),n=t(48538),r=t(87094),o=t(41988),d=t(55902),u=t(40577),c=t(70030),m=t(85923),v=t(53271),p=t(44414);function h(e){let{visible:l,handleCancel:t}=e;const{t:h}=(0,c.B)(),[g]=a.A.useForm(),[x,A]=(0,s.useState)(!1),[j,y]=(0,s.useState)(null);return(0,p.jsx)(i.A,{title:h("add.client"),visible:l,onCancel:t,footer:[(0,p.jsx)(n.A,{type:"primary",onClick:()=>g.submit(),loading:x,children:h("save")},"ok-button"),(0,p.jsx)(n.A,{onClick:t,children:h("cancel")},"cancel-button")],children:(0,p.jsx)(a.A,{layout:"vertical",name:"user-add-form",form:g,onFinish:e=>{const l={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password,role:"user"};A(!0),v.A.create(l).then((()=>{m.oR.success(h("successfully.added")),t()})).catch((e=>y(e.response.data.params))).finally((()=>A(!1)))},children:(0,p.jsxs)(r.A,{gutter:12,children:[(0,p.jsx)(o.A,{span:12,children:(0,p.jsx)(a.A.Item,{label:h("firstname"),name:"firstname",help:null!==j&&void 0!==j&&j.firstname?j.firstname[0]:null,validateStatus:null!==j&&void 0!==j&&j.firstname?"error":"success",rules:[{required:!0,message:h("required")}],children:(0,p.jsx)(d.A,{})})}),(0,p.jsx)(o.A,{span:12,children:(0,p.jsx)(a.A.Item,{label:"lastname",name:"lastname",help:null!==j&&void 0!==j&&j.lastname?j.lastname[0]:null,validateStatus:null!==j&&void 0!==j&&j.lastname?"error":"success",rules:[{required:!0,message:h("required")}],children:(0,p.jsx)(d.A,{})})}),(0,p.jsx)(o.A,{span:12,children:(0,p.jsx)(a.A.Item,{label:h("phone"),name:"phone",help:null!==j&&void 0!==j&&j.phone?j.phone[0]:null,validateStatus:null!==j&&void 0!==j&&j.phone?"error":"success",rules:[{required:!0,message:h("required")}],children:(0,p.jsx)(u.A,{min:0,className:"w-100"})})}),(0,p.jsx)(o.A,{span:12,children:(0,p.jsx)(a.A.Item,{label:h("email"),name:"email",help:null!==j&&void 0!==j&&j.email?j.email[0]:null,validateStatus:null!==j&&void 0!==j&&j.email?"error":"success",rules:[{required:!0,message:h("required")}],children:(0,p.jsx)(d.A,{type:"email"})})}),(0,p.jsx)(o.A,{span:12,children:(0,p.jsx)(a.A.Item,{label:h("password"),name:"password",help:null!==j&&void 0!==j&&j.password?j.password[0]:null,validateStatus:null!==j&&void 0!==j&&j.password?"error":"success",rules:[{required:!0,message:h("required")}],children:(0,p.jsx)(d.A.Password,{type:"password",className:"w-100"})})}),(0,p.jsx)(o.A,{span:12,children:(0,p.jsx)(a.A.Item,{label:h("password.confirmation"),help:null!==j&&void 0!==j&&j.password_confirmation?j.password_confirmation[0]:null,validateStatus:null!==j&&void 0!==j&&j.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:h("required")},e=>{let{getFieldValue:l}=e;return{validator:(e,t)=>t&&l("password")!==t?Promise.reject(h("two.passwords.dont.match")):Promise.resolve()}}],children:(0,p.jsx)(d.A.Password,{type:"password"})})})]})})})}},12196:(e,l,t)=>{t.d(l,{A:()=>A});var s=t(9950),a=t(59233),i=t(72243),n=t(87094),r=t(41988),o=t(80737),d=t(66876),u=t(82706),c=t(48538),m=t(8750),v=t(44070),p=t(48970),h=t(64924),g=t(70030),x=t(44414);const A=e=>{var l;let{mediaList:t,setMediaList:A,name:j="products"}=e;const{t:y}=(0,g.B)(),[f]=a.A.useForm(),[b,w]=(0,s.useState)(null),[_,k]=(0,s.useState)([]),[S,I]=(0,s.useState)(!1),[C,q]=(0,s.useState)(!1),N=async e=>{let{file:l,type:t}=e;l.name?(w("video"===t?(0,x.jsx)("video",{controls:!0,src:l.name,width:450,height:450}):(0,x.jsx)(i.A,{src:l.name,width:"100%",height:450,alt:"preview-img"})),I(!0)):w(null)},H=e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0});return(0,x.jsxs)(n.A,{gutter:[24,24],children:[(0,x.jsx)(r.A,{span:24,children:(0,x.jsx)(o.A,{className:"align-items-start",children:(0,x.jsx)(d.A,{customRequest:e=>{let{file:l,onSuccess:t}=e;q(!0);const s=new FormData;s.append("image",l),s.append("type",j),h.A.upload(s).then((e=>{let{data:l}=e;A((e=>({...e,images:[...e.images,{...H(l),isVideo:!0}]}))),t("ok")}))},accept:"video/*",listType:"text",className:"video-upload",multiple:!1,fileList:[],children:(0,x.jsxs)("div",{className:"media-upload",children:[(0,x.jsx)(m.A,{})," ",(0,x.jsx)("span",{children:y("upload.video")})]})})})}),(0,x.jsx)(r.A,{span:24,children:null===t||void 0===t||null===(l=t.previews)||void 0===l?void 0:l.map(((e,l)=>{var s,a;return(0,x.jsxs)(o.A,{className:"uploaded-file",wrap:!0,children:[(0,x.jsx)("span",{className:"media-item",onClick:()=>N({type:"img",file:null===t||void 0===t?void 0:t.previews[l]}),children:null===t||void 0===t||null===(s=t.previews[l])||void 0===s?void 0:s.name}),(0,x.jsx)("span",{className:"media-item",onClick:()=>N({type:"video",file:null===t||void 0===t?void 0:t.images[l]}),children:null===t||void 0===t||null===(a=t.images[l])||void 0===a?void 0:a.name}),(0,x.jsx)(v.A,{className:"delete-media-item",onClick:()=>(e=>{const l=t.images.filter(((l,t)=>{if(t!==e)return l})),s=t.previews.filter(((l,t)=>{if(t!==e)return l}));A({images:l,previews:s})})(l)})]})}))}),(0,x.jsx)(u.A,{title:"Video Preview",visible:S,onCancel:()=>{I(!1)},footer:null,children:b}),(0,x.jsx)(u.A,{title:"Preview image",visible:C,footer:null,onCancel:()=>q(!1),children:(0,x.jsx)(a.A,{form:f,onFinish:()=>{A((e=>({...e,previews:[...e.previews,..._]}))),k([]),q(!1)},layout:"vertical",children:(0,x.jsxs)(n.A,{gutter:[24,24],children:[(0,x.jsx)(r.A,{span:24,children:(0,x.jsx)(a.A.Item,{label:y("preview.image"),name:"preview-image",rules:[{required:!(null!==_&&void 0!==_&&_.length),message:y("required")}],children:(0,x.jsx)(p.A,{type:j,imageList:_,setImageList:k,multiple:!1,text:"upload.image",form:f})})}),(0,x.jsx)(r.A,{span:24,className:"d-flex justify-content-end",children:(0,x.jsx)(c.A,{type:"primary",onClick:()=>f.submit(),children:y("save")})})]})})})]})}},12958:(e,l,t)=>{t.d(l,{A:()=>f});var s=t(9950),a=t(59233),i=t(28429),n=t(91854),r=t(53271),o=t(85923),d=t(74623),u=t(70030),c=t(81446),m=t(87094),v=t(41988),p=t(55902),h=t(40577),g=t(80737),x=t(48538),A=t(44414);const j=e=>{let{prev:l,loadingBtn:t,error:s}=e;const{t:i}=(0,u.B)();return(0,A.jsxs)(m.A,{gutter:12,children:[(0,A.jsx)(v.A,{span:12,children:(0,A.jsx)(a.A.Item,{label:i("firstname"),name:"firstname",help:null!==s&&void 0!==s&&s.firstname?s.firstname[0]:null,validateStatus:null!==s&&void 0!==s&&s.firstname?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,A.jsx)(p.A,{className:"w-100"})})}),(0,A.jsx)(v.A,{span:12,children:(0,A.jsx)(a.A.Item,{label:i("lastname"),name:"lastname",help:null!==s&&void 0!==s&&s.lastname?s.lastname[0]:null,validateStatus:null!==s&&void 0!==s&&s.lastname?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,A.jsx)(p.A,{className:"w-100"})})}),(0,A.jsx)(v.A,{span:12,children:(0,A.jsx)(a.A.Item,{label:i("phone"),name:"phone",help:null!==s&&void 0!==s&&s.phone?s.phone[0]:null,validateStatus:null!==s&&void 0!==s&&s.phone?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,A.jsx)(h.A,{min:0,className:"w-100"})})}),(0,A.jsx)(v.A,{span:12,children:(0,A.jsx)(a.A.Item,{label:i("email"),name:"email",help:null!==s&&void 0!==s&&s.email?s.email[0]:null,validateStatus:null!==s&&void 0!==s&&s.email?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,A.jsx)(p.A,{type:"email",className:"w-100"})})}),(0,A.jsx)(v.A,{span:12,children:(0,A.jsx)(a.A.Item,{label:i("password"),name:"password",help:null!==s&&void 0!==s&&s.password?s.password[0]:null,validateStatus:null!==s&&void 0!==s&&s.password?"error":"success",rules:[{required:!1,message:i("required")},{type:"string",min:6,message:i("min.6.letters")}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,A.jsx)(p.A.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,A.jsx)(v.A,{span:12,children:(0,A.jsx)(a.A.Item,{label:i("password.confirmation"),help:null!==s&&void 0!==s&&s.password_confirmation?s.password_confirmation[0]:null,validateStatus:null!==s&&void 0!==s&&s.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:i("required")},e=>{let{getFieldValue:l}=e;return{validator:(e,t)=>t&&l("password")!==t?Promise.reject(i("passwords.do.not.match")):Promise.resolve()}}],normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,A.jsx)(p.A.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,A.jsx)(v.A,{span:24,children:(0,A.jsxs)(g.A,{children:[(0,A.jsx)(x.A,{type:"primary",htmlType:"submit",loading:t,children:i("save")}),(0,A.jsx)(x.A,{htmlType:"submit",onClick:()=>l(),children:i("prev")})]})})]})};var y=t(99856);function f(e){let{prev:l}=e;const{t:t}=(0,u.B)(),{activeMenu:m}=(0,n.d4)((e=>e.menu),n.bN),v=(0,n.wA)(),p=(0,i.Zp)(),[h,g]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1),[_]=a.A.useForm();return(0,s.useEffect)((()=>{var e,l,t,s;null!==m&&void 0!==m&&null!==(e=m.data)&&void 0!==e&&e.seller&&(s=null===m||void 0===m||null===(l=m.data)||void 0===l||null===(t=l.seller)||void 0===t?void 0:t.uuid,w(!0),r.A.getById(s).then((e=>{const l=e.data;_.setFieldsValue({firstname:null===l||void 0===l?void 0:l.firstname,lastname:null===l||void 0===l?void 0:l.lastname,email:null===l||void 0===l?void 0:l.email,phone:Number(null===l||void 0===l?void 0:l.phone),password_confirmation:null===l||void 0===l?void 0:l.password_confirmation,password:null===l||void 0===l?void 0:l.password})})).finally((()=>w(!1))))}),[]),(0,A.jsx)(A.Fragment,{children:b?(0,A.jsx)(c.A,{}):(0,A.jsx)(a.A,{form:_,layout:"vertical",onFinish:e=>{var l,s;f(!0);const a={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},i="shops";r.A.update(null===m||void 0===m||null===(l=m.data)||void 0===l||null===(s=l.seller)||void 0===s?void 0:s.uuid,a).then((()=>{o.oR.success(t("successfully.updated")),p(`/${i}`),v((0,y._)({perPage:10,page:1})),v((0,d.EK)({...m,nextUrl:i}))})).catch((e=>g(e.response.data.params))).finally((()=>f(!1)))},className:"py-4",children:(0,A.jsx)(j,{prev:l,error:h,loadingBtn:x})})})}},22799:(e,l,t)=>{t.d(l,{A:()=>i});var s=t(82371);const a="dashboard/admin/galleries",i={getAll:e=>s.A.get(`${a}`,{params:e}),create:e=>s.A.post(`${a}`,e)}},28257:(e,l,t)=>{t.d(l,{A:()=>v});t(9950);var s=t(84619),a=t(96011),i=t.n(a),n=t(63620);var r=t(91854),o=t(99674),d=t(59233),u=t(74635),c=t(44414);const m=n.bo?{componentRestrictions:{country:n.bo}}:{},v=e=>{let{value:l,setValue:t,setLocation:a,withLanguages:v=!0}=e;const{placePredictions:p,getPlacePredictions:h,isPlacePredictionsLoading:g}=(0,s.A)({apiKey:n.CJ,libraries:["places","geocode"],options:m}),{defaultLang:x,languages:A}=(0,r.d4)((e=>e.formLang),r.bN),j=()=>(0,c.jsx)(o.A,{allowClear:!0,searchValue:l,showSearch:!0,autoClearSearchValue:!0,loading:g,options:null===p||void 0===p?void 0:p.map((e=>({label:e.description,value:e.description}))),onSearch:e=>{t(e),e.length>0&&h({input:e})},onSelect:async e=>{const l=await async function(e){let l={address:e,key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.CJ};return i().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((e=>{let{data:l}=e;return l.results[0]})).catch((e=>"not found"))}(e);a({lat:null===l||void 0===l?void 0:l.geometry.location.lat,lng:null===l||void 0===l?void 0:l.geometry.location.lng})},getPopupContainer:e=>e.parentNode});return v?(0,c.jsx)(c.Fragment,{children:A.map(((e,l)=>(0,c.jsx)(d.A.Item,{label:(0,u.t)("address"),name:`address[${e.locale}]`,rules:[{required:e.locale===x,message:(0,u.t)("required")}],hidden:e.locale!==x,children:j()},"address"+l)))}):(0,c.jsx)(d.A.Item,{label:(0,u.t)("address"),name:"address",rules:[{required:!0,message:(0,u.t)("required")}],children:j()})}},29597:(e,l,t)=>{function s(e){var l;if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const t=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}t.d(l,{A:()=>s})},32225:(e,l,t)=>{t.d(l,{A:()=>c});var s=t(59233),a=t(80737),i=t(48538),n=t(80905),r=t(9950),o=t(70030),d=t(68073),u=t(44414);const c=e=>{let{onClose:l,onSubmit:t,isButtonLoading:c}=e;const{t:m}=(0,o.B)(),[v,p]=(0,r.useState)(null),[h,g]=(0,r.useState)(null);return(0,u.jsxs)(s.A,{layout:"vertical",onFinish:t,children:[(0,u.jsx)(s.A.Item,{name:"country",label:m("country"),rules:[{required:!0,message:m("required")}],children:(0,u.jsx)(n.j,{hasMore:null===v||void 0===v?void 0:v.next,fetchOptions:e=>{var l;let{search:t,page:s}=e;const a={search:t,page:s,has_price:!0};return null!==t&&void 0!==t&&null!==(l=t.trim())&&void 0!==l&&l.length||null===a||void 0===a||delete a.search,d.A.getCountries(a).then((e=>(p(e.links),e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:`${null===e||void 0===e?void 0:e.id},${null===e||void 0===e?void 0:e.region_id}`,key:null===e||void 0===e?void 0:e.id}})))))},onChange:e=>g(e)})}),h&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.A.Item,{rules:[{required:!0,message:m("required")}],name:"city",label:m("city"),children:(0,u.jsx)(n.j,{hasMore:null===v||void 0===v?void 0:v.next,fetchOptions:e=>{var l,t;let{search:s,page:a}=e;const i={search:s,page:a,country_id:null===h||void 0===h||null===(l=h.value)||void 0===l?void 0:l.split(",")[0],has_price:!0};return null!==s&&void 0!==s&&null!==(t=s.trim())&&void 0!==t&&t.length||null===i||void 0===i||delete i.search,d.A.getCities(i).then((e=>{p(e.links);const l=[];return 1===e.meta.current_page&&l.push({label:m("whole.country"),value:"all"}),e.data.forEach((e=>{var t;l.push({label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id})})),l}))}})})}),(0,u.jsxs)(a.A,{className:"justify-content-end w-100",children:[(0,u.jsx)(i.A,{onClick:l,htmlType:"button",children:m("cancel")}),(0,u.jsx)(i.A,{loading:c,htmlType:"submit",type:"primary",children:m("add")})]})]})}},34422:(e,l,t)=>{t.d(l,{Q:()=>i});var s=t(59051),a=t.n(s);const i=[{title:"monday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")}]},39492:(e,l,t)=>{t.d(l,{R:()=>s});const s=[{label:"Facebook",value:"facebook",key:"facebook"},{label:"Instagram",value:"instagram",key:"instagram"},{label:"Telegram",value:"telegram",key:"telegram"},{label:"Youtube",value:"youtube",key:"youtube"},{label:"LinkedIn",value:"linkedin",key:"linkedin"},{label:"Snapchat",value:"snapchat",key:"snapchat"},{label:"WeChat",value:"wechat",key:"wechat"},{label:"WhatsApp",value:"whatsapp",key:"whatsapp"},{label:"Twitch",value:"twitch",key:"twitch"},{label:"Discord",value:"discord",key:"discord"},{label:"Pinterest",value:"pinterest",key:"pinterest"},{label:"Steam",value:"steam",key:"steam"},{label:"Spotify",value:"spotify",key:"spotify"},{label:"Reddit",value:"reddit",key:"reddit"},{label:"Skype",value:"skype",key:"skype"},{label:"Twitter",value:"twitter",key:"twitter"},{label:"Web Site",value:"web-site",key:"web-site"}]},40691:(e,l,t)=>{t.d(l,{A:()=>w});var s=t(9950),a=t(87094),i=t(12916),n=t(41988),r=t(80737),o=t(48538),d=t(59233),u=t(23263),c=t(57796),m=t(25933),v=t(70030),p=t(59051),h=t.n(p),g=t(50384),x=t(13239),A=t(94118),j=t(9213),y=t(91854),f=t(51066),b=t(44414);const w=e=>{let{onFinish:l,prev:t,form:p,lines:w,loadingBtn:_,days:k,setDays:S,setLines:I,weeks:C}=e;const{t:q}=(0,v.B)(),N=[{from:new Date(1900,4,18),to:new Date(h()().subtract(1,"days"))}],[H,F]=(0,s.useState)(!0),L=(0,y.d4)((e=>{var l,t;return null===(l=e.globalSettings)||void 0===l||null===(t=l.settings)||void 0===t?void 0:t.using_12_hour_format}),y.bN),P=(0,f.Q)(),O=k&&k.length>0?(0,b.jsxs)(a.A,{children:[(0,b.jsx)(i.A,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:q("Your.existing.vacations")}),(0,b.jsxs)(n.A,{span:24,className:"mt-2",children:[k.slice(0,H?1:k.length).map(((e,l)=>(0,b.jsxs)(r.A,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,b.jsx)(n.A,{span:24,style:{fontSize:14,marginTop:"8px"},children:h()(e).format("YYYY-MM-DD")}),(0,b.jsx)(n.A,{span:24,children:(0,b.jsx)(i.A,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return l=e,S(k.filter((e=>e!==l)));var l},children:q("remove")})})]},l))),(0,b.jsx)(o.A,{className:"mt-3 w-100",onClick:()=>{F(!H)},children:H?(0,b.jsx)(g.U29,{}):(0,b.jsx)(g.ZXT,{})})]})]}):(0,b.jsx)(i.A,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),T=(e,l)=>{const t=[];for(let s=e;s<l;s++)t.push(s);return t},M=()=>({disabledHours:()=>T(0,1),disabledMinutes:()=>T(0,0),disabledSeconds:()=>T(0,60)});return(0,b.jsx)(d.A,{form:p,layout:"vertical",onFinish:l,children:(0,b.jsxs)(a.A,{gutter:12,children:[(0,b.jsx)(n.A,{span:12,children:(0,b.jsx)(u.A,{title:q("restaurant.working.days"),children:(0,b.jsx)(a.A,{gutter:8,children:(0,b.jsx)(n.A,{span:24,children:(0,b.jsx)(d.A.List,{name:"working_days",children:e=>(0,b.jsx)("div",{children:e.map(((e,l)=>(0,b.jsxs)(a.A,{gutter:12,align:"center",children:[(0,b.jsx)(n.A,{span:7,children:(0,b.jsx)(d.A.Item,{name:[l,"day"],children:(0,b.jsx)("span",{children:q(C[l].title)})})}),w[e.key]?(0,b.jsx)(n.A,{span:13,className:"mt-2",children:(0,b.jsx)("span",{children:q("shop.closed")})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.A,{span:7,children:(0,b.jsx)(d.A.Item,{rules:[{required:!1===w[e.key]}],name:[l,"from"],children:(0,b.jsx)(c.A,{format:P,use12Hours:"1"===L,disabledTime:M,picker:"time",placeholder:q("start.time")})})}),(0,b.jsx)(n.A,{span:6,children:(0,b.jsx)(d.A.Item,{rules:[{required:!1===w[e.key]}],name:[l,"to"],children:(0,b.jsx)(c.A,{format:P,use12Hours:"1"===L,disabledTime:M,picker:"time",placeholder:q("end.time")})})})]}),(0,b.jsx)(n.A,{span:4,children:(0,b.jsx)(d.A.Item,{name:[l,"disabled"],valuePropName:"checked",children:(0,b.jsx)(m.A,{checkedChildren:(0,b.jsx)(x.A,{}),unCheckedChildren:(0,b.jsx)(A.A,{}),checked:w[e.key],onChange:()=>(e=>{const l=[...w];l[e]=!w[e],I(l)})(e.key)})})})]},e.key)))})})})})})}),(0,b.jsx)(n.A,{span:12,children:(0,b.jsxs)(u.A,{title:q("restaurant.closed.days"),children:[(0,b.jsx)("p",{children:q("restaurant.closed.days.text")}),(0,b.jsx)(d.A.Item,{rules:[{required:!1,message:q("required")}],children:(0,b.jsx)(j.hv,{className:"datepicker",mode:"multiple",disabled:N,min:1,selected:k,onSelect:S,footer:O,showOutsideDays:!0})})]})}),(0,b.jsx)(n.A,{span:24,children:(0,b.jsxs)(r.A,{children:[(0,b.jsx)(o.A,{type:"primary",htmlType:"submit",loading:_,children:q("next")}),(0,b.jsx)(o.A,{htmlType:"submit",onClick:()=>t(),children:q("prev")})]})})]})})}},47700:(e,l,t)=>{t.d(l,{A:()=>j});var s=t(9950),a=t(59233),i=t(23263),n=t(87094),r=t(41988),o=t(40895),d=t(80737),u=t(48538),c=t(70030),m=t(48970),v=t(12196),p=t(91854),h=t(74623),g=t(65820),x=t(22799),A=t(44414);const j=e=>{var l,t;let{next:j,prev:y}=e;const{t:f}=(0,c.B)(),b=(0,p.wA)(),[w]=a.A.useForm(),_=(0,g.s)(),{activeMenu:k}=(0,p.d4)((e=>e.menu),p.bN),S=null===(l=k.data)||void 0===l?void 0:l.id,[I,C]=(0,s.useState)(!1),[q,N]=(0,s.useState)(!1),[H,F]=(0,s.useState)([]),[L,P]=(0,s.useState)({images:[],previews:[]}),O=()=>{C(!0),x.A.getAll({shop_id:S}).then((e=>{var l;const t=(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.flatMap((e=>null===e||void 0===e?void 0:e.galleries)))||[];F((e=>{var l;return null===e||void 0===e||null===(l=e.filter((e=>!(null!==e&&void 0!==e&&e.preview))))||void 0===l?void 0:l.map((e=>({uid:e.id,name:e.path,url:e.path})))})(t)),P((e=>{var l,t;const s={images:[],previews:[]},a=null===e||void 0===e||null===(l=e.filter((e=>!(null===e||void 0===e||!e.preview))))||void 0===l?void 0:l.map((e=>({uid:e.id,name:e.preview,url:e.preview}))),i=null===e||void 0===e||null===(t=e.filter((e=>!(null===e||void 0===e||!e.preview))))||void 0===t?void 0:t.map((e=>({uid:e.id,name:e.path,url:e.path})));return s.previews=a,s.images=i,s})(t))})).finally((()=>{C(!1),b((0,h.km)(k))}))};(0,s.useEffect)((()=>{O()}),[null===(t=_.values)||void 0===t?void 0:t.step]),(0,s.useEffect)((()=>{k.refetch&&O()}),[k.refetch]);return(0,A.jsx)(i.A,{loading:I,children:(0,A.jsxs)(a.A,{form:w,onFinish:()=>{var e;N(!0);const l={images:[...null===L||void 0===L?void 0:L.images,...H].map((e=>e.name)),previews:null===L||void 0===L||null===(e=L.previews)||void 0===e?void 0:e.map((e=>e.name)),active:1,shop_id:S};x.A.create(l).then((()=>j())).finally((()=>C(!1)))},layout:"vertical",children:[(0,A.jsx)(n.A,{gutter:12,children:(0,A.jsx)(r.A,{span:24,children:(0,A.jsx)(a.A.Item,{label:f("images"),name:"images",children:(0,A.jsx)(m.A,{title:f("upload.image"),imageList:H,setImageList:F,form:w,multiple:!0,type:"shops"})})})}),(0,A.jsx)(o.A,{}),(0,A.jsx)(n.A,{gutter:12,children:(0,A.jsx)(r.A,{span:24,children:(0,A.jsx)(a.A.Item,{label:f("videos"),name:"videos",children:(0,A.jsx)(v.A,{mediaList:L,setMediaList:P})})})}),(0,A.jsxs)(d.A,{className:"mt-4",children:[(0,A.jsx)(u.A,{type:"primary",htmlType:"submit",loading:!!q,children:f("next")}),(0,A.jsx)(u.A,{onClick:y,children:f("prev")})]})]})})}},49164:(e,l,t)=>{t.d(l,{A:()=>p});var s=t(9950),a=t(81446),i=t(59051),n=t.n(i),r=t(81466),o=t(80127),d=t(28429),u=t(34422),c=t(40691),m=t(59233),v=t(44414);const p=e=>{let{next:l,prev:t}=e;const[i]=m.A.useForm(),[p,h]=(0,s.useState)([]),[g,x]=(0,s.useState)(new Array(7).fill(!1)),[A,j]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),{uuid:b}=(0,d.g)();return(0,s.useEffect)((()=>{i.setFieldsValue({working_days:u.Q}),b&&(f(!0),o.A.getById(b).then((e=>{h(e.data.closed_dates.filter((e=>e.day>n()(new Date).format("YYYY-MM-DD"))).map((e=>new Date(e.day))))})),r.A.getById(b).then((e=>{x(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&i.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:n()(e.from,"HH:mm:ss"),to:n()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})})).finally((()=>f(!1))))}),[]),(0,v.jsx)(v.Fragment,{children:y?(0,v.jsx)(a.A,{}):(0,v.jsx)(c.A,{onFinish:e=>{j(!0);const t={dates:p?p.map((e=>n()(e).format("YYYY-MM-DD"))):void 0},s={dates:e.working_days.map((e=>({day:e.title,from:n()(e.from?e.from:"00").format("HH:mm"),to:n()(e.to?e.to:"00").format("HH:mm"),disabled:e.disabled})))};o.A.update(b,t).then((()=>{l()})).finally((()=>j(!1))),0!==e.working_days.length&&r.A.update(b,s).then((()=>{l()})).finally((()=>j(!1)))},prev:t,form:i,lines:g,loadingBtn:A,days:p,setDays:h,setLines:x,weeks:u.Q})})}},51066:(e,l,t)=>{t.d(l,{Q:()=>i});var s=t(17706),a=t(80415);const i=()=>{var e,l,t,i;return null!==(e=null===(l=s.M.getState())||void 0===l||null===(t=l.globalSettings)||void 0===t||null===(i=t.settings)||void 0===i?void 0:i.hour_format)&&void 0!==e?e:a.G}},57796:(e,l,t)=>{t.d(l,{A:()=>c});var s=t(58168),a=t(9950),i=t(86971),n=function(e,l){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&l.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)l.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(t[s[a]]=e[s[a]])}return t},r=i.A.TimePicker,o=i.A.RangePicker,d=a.forwardRef((function(e,l){return a.createElement(o,(0,s.A)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:l}))})),u=a.forwardRef((function(e,l){var t=e.addon,i=e.renderExtraFooter,o=e.popupClassName,d=n(e,["addon","renderExtraFooter","popupClassName"]),u=a.useMemo((function(){return i||(t||void 0)}),[t,i]);return a.createElement(r,(0,s.A)({},d,{dropdownClassName:o,mode:void 0,ref:l,renderExtraFooter:u}))}));u.displayName="TimePicker",u.RangePicker=d;const c=u},57980:(e,l,t)=>{t.d(l,{A:()=>B});var s=t(9950),a=t(59233),i=t(80737),n=t(48538),r=t(28429),o=t(91854),d=t(74623),u=t(55660),c=t(70030),m=t(29597),v=t(99674),p=t(87094),h=t(41988),g=t(23263),x=t(55902),A=t(25933),j=t(40577),y=t(40895),f=t(12916),b=t(98591),w=t(78498),_=t(48970),k=t(92019),S=t(20735),I=t(79406),C=t(58974),q=t(53271),N=t(12040),H=t(92967),F=t(68371);const L=[{label:"minutes",value:"minute",key:"minute"},{label:"hours",value:"hour",key:"hour"},{label:"days",value:"day",key:"day"}];var P=t(80415),O=t(28257),T=t(44414);const{Option:M}=v.A,E=e=>{var l;let{backImage:t,setBackImage:d,logoImage:u,setLogoImage:m,form:E,user:B,setLocation:V,location:R}=e;const{t:z}=(0,c.B)(),[D,$]=(0,s.useState)(null),[Y,W]=(0,s.useState)(null),[K,Q]=(0,s.useState)(null),{defaultLang:J,languages:U}=(0,o.d4)((e=>e.formLang),o.bN),{activeMenu:Z}=(0,o.d4)((e=>e.menu),o.bN),{uuid:G}=(0,r.g)(),[X,ee]=(0,s.useState)(""),le=(null===Z||void 0===Z||null===(l=Z.data)||void 0===l?void 0:l.documents)||[],te=(0,s.useMemo)((()=>P.HV.map((e=>({label:z(e),value:e,key:e})))),[G]);const se=()=>{$(!0),Q(!0)},ae=()=>{$(!1),W(!1)};return(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:24,children:(0,T.jsx)(g.A,{children:(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:4,children:(0,T.jsx)(a.A.Item,{label:z("logo.image"),name:"logo_img",rules:[{required:!(null!==u&&void 0!==u&&u.length),message:z("required")}],children:(0,T.jsx)(_.A,{type:"shops/logo",imageList:u,setImageList:m,form:E,multiple:!1,name:"logo_img"})})}),(0,T.jsx)(h.A,{span:4,children:(0,T.jsx)(a.A.Item,{label:z("background.image"),name:"background_img",rules:[{required:!(null!==t&&void 0!==t&&t.length),message:z("required")}],children:(0,T.jsx)(_.A,{type:"shops/background",imageList:t,setImageList:d,form:E,multiple:!1,name:"background_img"})})}),(0,T.jsx)(h.A,{span:10,children:(0,T.jsx)(a.A.Item,{label:z("status.note"),name:"status_note",rules:[{required:!0,message:z("required")},{validator(e,l){var t;return l&&(null===l||void 0===l||null===(t=l.trim())||void 0===t?void 0:t.length)<2?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve()}}],children:(0,T.jsx)(b.A,{rows:4,maxLength:100})})}),(0,T.jsx)(h.A,{span:4,children:(0,T.jsx)(a.A.Item,{name:"status",label:z("status"),children:(0,T.jsx)(x.A,{disabled:!0})})}),(0,T.jsx)(h.A,{span:2,children:(0,T.jsx)(a.A.Item,{label:z("open"),name:"open",valuePropName:"checked",children:(0,T.jsx)(A.A,{disabled:!0})})})]})})}),(0,T.jsx)(h.A,{span:24,children:(0,T.jsx)(g.A,{title:z("general"),children:(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:12,children:(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:24,children:U.map(((e,l)=>(0,T.jsx)(a.A.Item,{label:z("title"),name:`title[${e.locale}]`,rules:[{required:(null===e||void 0===e?void 0:e.locale)===J,message:z("required")},{validator(l,t){var s;return t&&(null===t||void 0===t||null===(s=t.trim())||void 0===s?void 0:s.length)<2&&(null===e||void 0===e?void 0:e.locale)===J?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve()}}],hidden:e.locale!==J,children:(0,T.jsx)(x.A,{maxLength:50})},"title"+l)))}),(0,T.jsx)(h.A,{span:24,children:(0,T.jsx)(a.A.Item,{label:z("phone"),name:"phone",rules:[{required:!0,message:z("required")},{type:"number",max:1e20,message:z("max.length.20")}],children:(0,T.jsx)(j.A,{min:0,className:"w-100"})})})]})}),(0,T.jsx)(h.A,{span:12,children:U.map(((e,l)=>(0,T.jsx)(a.A.Item,{label:z("description"),name:`description[${e.locale}]`,rules:[{required:(null===e||void 0===e?void 0:e.locale)===J,message:z("required")},{validator(l,t){var s;return t&&(null===t||void 0===t||null===(s=t.trim())||void 0===s?void 0:s.length)<5&&(null===e||void 0===e?void 0:e.locale)===J?Promise.reject(new Error(z("must.be.at.least.5"))):Promise.resolve()}}],hidden:e.locale!==J,children:(0,T.jsx)(b.A,{rows:4,maxLength:150})},"desc"+l)))}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{label:z("shop.tags"),name:"tags",rules:[{required:!0,message:z("required")}],children:(0,T.jsx)(I.a,{mode:"multiple",fetchOptions:async function(e){Q(!1);const l={search:e};return C.A.getAll(l).then((e=>{let{data:l}=e;return l.map((e=>{var l;return{label:(null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title)||"no name",value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetch:K})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{label:z("shop.type"),name:"delivery_type",rules:[{required:!0,message:z("required")}],children:(0,T.jsx)(v.A,{options:F.W})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{label:z("seller"),name:"user",rules:[{required:!0,message:z("required")}],children:(0,T.jsx)(I.a,{disabled:B,fetchOptions:async function(e){const l={search:e,roles:"user","empty-shop":1};return Q(!1),q.A.search(l).then((e=>e.data.map((e=>({label:(null===e||void 0===e?void 0:e.firstname)+" "+((null===e||void 0===e?void 0:e.lastname)||""),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))))},refetch:K,dropdownRender:e=>(0,T.jsxs)(T.Fragment,{children:[e,(0,T.jsx)(y.A,{style:{margin:"8px 0"}}),(0,T.jsx)(n.A,{className:"w-100",icon:(0,T.jsx)(k.A,{}),onClick:se,children:z("add.user")})]})})})}),!(null===le||void 0===le||!le.length)&&(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{label:z("uploaded.documents.for.verification"),children:(0,T.jsx)(i.A,{gap:"4px 0",wrap:!0,children:null===le||void 0===le?void 0:le.map((e=>(0,T.jsx)("a",{href:null===e||void 0===e?void 0:e.path,target:"_blank",rel:"noopener noreferrer",children:(0,T.jsx)(f.A,{icon:(0,T.jsx)(S.A,{}),children:null===e||void 0===e?void 0:e.title})})))})})})]})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(g.A,{title:z("delivery.time"),children:(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{name:"delivery_time_type",label:z("delivery_time_type"),rules:[{required:!0,message:z("required")}],children:(0,T.jsx)(v.A,{className:"w-100",children:L.map((e=>(0,T.jsx)(M,{value:e.value,label:z(e.label)},e.key)))})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{name:"delivery_time_from",label:z("delivery_time_from"),rules:[{required:!0,message:z("required")},{type:"number",max:9999999999,message:z("max.length.10")}],children:(0,T.jsx)(j.A,{min:0,className:"w-100"})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{name:"delivery_time_to",label:z("delivery_time_to"),rules:[{required:!0,message:z("required")},{type:"number",max:9999999999,message:z("max.length.10")}],children:(0,T.jsx)(j.A,{min:0,className:"w-100"})})})]})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(g.A,{title:z("order.info"),children:(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{label:z("tax"),name:"tax",rules:[{required:!0,message:z("required")}],children:(0,T.jsx)(j.A,{min:0,max:100,addonAfter:"%",className:"w-100"})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{label:z("admin.commission"),name:"percentage",rules:[{required:!0,message:z("required")}],children:(0,T.jsx)(j.A,{min:0,max:100,className:"w-100",addonAfter:"%"})})}),(0,T.jsx)(h.A,{span:12,children:(0,T.jsx)(a.A.Item,{name:"emailStatuses",label:z("email.statuses"),children:(0,T.jsx)(v.A,{mode:"multiple",labelInValue:!0,options:te})})})]})})}),(0,T.jsx)(h.A,{span:24,children:(0,T.jsx)(g.A,{title:z("address"),children:(0,T.jsxs)(p.A,{gutter:12,children:[(0,T.jsx)(h.A,{span:24,children:(0,T.jsx)(O.A,{value:X,setValue:ee,setLocation:V})}),(0,T.jsx)(h.A,{span:24,children:(0,T.jsx)(w.A,{location:R,setLocation:V,setAddress:e=>E.setFieldsValue({[`address[${J}]`]:e})})})]})})}),D&&(0,T.jsx)(N.A,{visible:D,handleCancel:()=>ae()}),Y&&(0,T.jsx)(H.A,{visible:Y,handleCancel:()=>ae()})]})},B=e=>{var l,t,v,p,h,g,x,A,j,y,f,b,w,_,k,S,I,C,q,N,H;let{next:P,action_type:O="",user:M}=e;const{t:B}=(0,c.B)(),[V]=a.A.useForm(),R=(0,r.Zp)(),z=(0,o.wA)(),{uuid:D}=(0,r.g)(),{activeMenu:$}=(0,o.d4)((e=>e.menu),o.bN),{settings:Y}=(0,o.d4)((e=>e.globalSettings),o.bN),[W,K]=(0,s.useState)(null!==$&&void 0!==$&&null!==(l=$.data)&&void 0!==l&&l.lat_long?{lat:parseFloat(null===$||void 0===$||null===(t=$.data)||void 0===t||null===(v=t.lat_long)||void 0===v?void 0:v.latitude),lng:parseFloat(null===$||void 0===$||null===(p=$.data)||void 0===p||null===(h=p.lat_long)||void 0===h?void 0:h.longitude)}:(0,m.A)(Y)),[Q,J]=(0,s.useState)(!1),[U,Z]=(0,s.useState)(null!==(g=$.data)&&void 0!==g&&g.logo_img?[null===(x=$.data)||void 0===x?void 0:x.logo_img]:[]),[G,X]=(0,s.useState)(null!==(A=$.data)&&void 0!==A&&A.background_img?[null===(j=$.data)||void 0===j?void 0:j.background_img]:[]);(0,s.useEffect)((()=>()=>{const e=V.getFieldsValue(!0);e.open_time=JSON.stringify(null===e||void 0===e?void 0:e.open_time),e.close_time=JSON.stringify(null===e||void 0===e?void 0:e.close_time),z((0,d.Ok)({activeMenu:$,data:{...$.data,...e}}))}),[]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(a.A,{form:V,name:"basic",layout:"vertical",onFinish:e=>{var l,t,s,a,i,n,r;J(!0);const o={...e,"images[0]":null===(l=U[0])||void 0===l?void 0:l.name,"images[1]":null===(t=G[0])||void 0===t?void 0:t.name,delivery_time_type:(null===(s=e.delivery_time_type)||void 0===s?void 0:s.value)||e.delivery_time_type,delivery_time_to:e.delivery_time_to,delivery_time_from:e.delivery_time_from,tags:null===e||void 0===e||null===(a=e.tags)||void 0===a?void 0:a.map((e=>e.value)),user_id:e.user.value,open:void 0,"location[latitude]":W.lat,"location[longitude]":W.lng,"lat_long[latitude]":W.lat,"lat_long[longitude]":W.lng,user:void 0,delivery_time:0,delivery_type:(null===e||void 0===e||null===(i=e.delivery_type)||void 0===i?void 0:i.value)||(null===e||void 0===e?void 0:e.delivery_type),...Object.assign({},...null!==(n=null===e||void 0===e||null===(r=e.emailStatuses)||void 0===r?void 0:r.map(((e,l)=>({[`email_statuses[${l}]`]:(null===e||void 0===e?void 0:e.value)||e}))))&&void 0!==n?n:[]),emailStatuses:void 0};null===o||void 0===o||delete o.background_img,null===o||void 0===o||delete o.logo_img,"edit"===O?function(e,l){u.A.update(D,l).then((()=>{z((0,d.Ok)({activeMenu:$,data:e})),P()})).catch((e=>console.error(e.response.data.params))).finally((()=>J(!1)))}(e,o):function(e,l){u.A.create(l).then((l=>{let{data:t}=l;z((0,d.W6)({id:`shop-${t.uuid}`,url:`shop/${t.uuid}`,name:B("add.shop"),data:{...e,id:null===t||void 0===t?void 0:t.id,seller:null===t||void 0===t?void 0:t.seller},refetch:!1})),R(`/shop/${t.uuid}?step=1`)})).catch((e=>console.error(e.response.data.params))).finally((()=>J(!1)))}(e,o)},initialValues:{open:!1,status:"new",delivery_time_type:L[0],...$.data,delivery_type:null!==(y=null===(f=$.data)||void 0===f?void 0:f.delivery_type)&&void 0!==y?y:F.W[0],delivery_time_from:null!==(b=$.data)&&void 0!==b&&null!==(w=b.delivery_time)&&void 0!==w&&w.from?Number(null===(_=$.data)||void 0===_||null===(k=_.delivery_time)||void 0===k?void 0:k.from):0,delivery_time_to:null!==(S=$.data)&&void 0!==S&&null!==(I=S.delivery_time)&&void 0!==I&&I.to?Number(null===(C=$.data)||void 0===C||null===(q=C.delivery_time)||void 0===q?void 0:q.to):0,phone:null!==(N=$.data)&&void 0!==N&&N.phone?Number(null===(H=$.data)||void 0===H?void 0:H.phone):0},children:[(0,T.jsx)(E,{form:V,user:M,backImage:G,setBackImage:X,logoImage:U,setLogoImage:Z,location:W,setLocation:K}),(0,T.jsx)(i.A,{children:(0,T.jsx)(n.A,{type:"primary",htmlType:"submit",loading:Q,children:B("next")})})]})})}},65820:(e,l,t)=>{t.d(l,{s:()=>n});var s=t(28429),a=t(21215),i=t.n(a);const n=()=>{const e=(0,s.Zp)(),l=(0,s.zy)(),t=i().parse(l.search,{ignoreQueryPrefix:!0});return{values:t,set:(l,s)=>e({search:i().stringify({...t,[l]:s})}),reset:l=>{const s={...t};s[l]&&delete s[l],e({search:i().stringify({...s})})},clear:()=>e({search:i().stringify({})}),merge:l=>e({search:i().stringify({...t,...l})})}}},68073:(e,l,t)=>{t.d(l,{A:()=>a});var s=t(82371);const a={getCountries:e=>s.A.get("rest/countries",{params:e}),getCities:e=>s.A.get("rest/cities",{params:e})}},68371:(e,l,t)=>{t.d(l,{W:()=>s});const s=[{label:"IN_HOUSE",value:1,key:1},{label:"SELLER",value:2,key:2}]},76662:(e,l,t)=>{t.d(l,{A:()=>y});var s=t(91854),a=t(70030),i=t(72243),n=t(80737),r=t(48538),o=t(52913),d=t(82706),u=t(41988),c=t(9950),m=t(13569),v=t(44070),p=t(14205),h=t(85923),g=t(76083),x=t(55386),A=t(32225),j=t(44414);const y=e=>{var l,t;let{next:y,prev:f,locationType:b}=e;const{t:w}=(0,a.B)(),{activeMenu:_}=(0,s.d4)((e=>e.menu),s.bN),k=(0,s.wA)(),{locations:S,loading:I}=(0,s.d4)((e=>e.shopLocations)),[C,q]=(0,c.useState)(null),[N,H]=(0,c.useState)(!1),[F,L]=(0,c.useState)(!1),{setIsModalVisible:P}=(0,c.useContext)(x.o),O=[{title:w("location"),dataIndex:"location",key:"location",render:(e,l)=>{var t,s,a,i;return(0,j.jsxs)("span",{children:[null===(t=l.country)||void 0===t||null===(s=t.translation)||void 0===s?void 0:s.title,l.city?",":""," ",null===(a=l.city)||void 0===a||null===(i=a.translation)||void 0===i?void 0:i.title]})}},{title:w("image"),dataIndex:"country",key:"image",render:e=>{var l;return(0,j.jsx)(i.A,{src:null===e||void 0===e?void 0:e.img,alt:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,width:60,height:40})}},{title:w("options"),dataIndex:"options",key:"options",render:(e,l)=>(0,j.jsx)(n.A,{children:(0,j.jsx)(r.A,{onClick:()=>{q([null===l||void 0===l?void 0:l.id]),P(!0)},type:"primary",danger:!0,icon:(0,j.jsx)(v.A,{})})})}],T={type:null===b||void 0===b?void 0:b.value,shop_id:null===_||void 0===_||null===(l=_.data)||void 0===l?void 0:l.id};return(0,c.useEffect)((()=>{var e;null!==(e=_.data)&&void 0!==e&&e.id&&k((0,m.f9)(T))}),[null===(t=_.data)||void 0===t?void 0:t.id]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.A,{className:"justify-content-end w-100",children:(0,j.jsx)(r.A,{onClick:()=>L(!0),type:"primary",children:w("add")})}),(0,j.jsx)(o.A,{loading:I,dataSource:S,columns:O}),(0,j.jsx)(d.A,{footer:null,visible:F,destroyOnClose:!0,onCancel:()=>L(!1),children:(0,j.jsx)(A.A,{onClose:()=>L(!1),onSubmit:e=>{var l,t,s,a,i,n,r;const o=null===e||void 0===e||null===(l=e.country)||void 0===l||null===(t=l.value)||void 0===t||null===(s=t.split(","))||void 0===s?void 0:s[0],d=null===e||void 0===e||null===(a=e.country)||void 0===a||null===(i=a.value)||void 0===i||null===(n=i.split(","))||void 0===n?void 0:n[1],u={type:null===b||void 0===b?void 0:b.value,country_id:o,region_id:d,shop_id:null===_||void 0===_||null===(r=_.data)||void 0===r?void 0:r.id};var c;"all"!==e.city.value&&(u.city_id=null===(c=e.city)||void 0===c?void 0:c.value);H(!0),p.A.create(u).then((()=>{h.oR.success(w("successfully.added")),k((0,m.f9)(T)),L(!1)})).finally((()=>{H(!1)}))},isButtonLoading:N})}),(0,j.jsx)(g.A,{click:()=>{H(!0);const e={...Object.assign({},...C.map(((e,l)=>({[`ids[${l}]`]:e})))),type:null===b||void 0===b?void 0:b.value};p.A.delete(e).then((()=>{k((0,m.f9)(T)),h.oR.success(w("successfully.deleted"))})).finally((()=>{q(null),H(!1),P(!1)}))},text:w("delete.location"),setText:q,loading:N}),(0,j.jsx)(u.A,{span:24,children:(0,j.jsxs)(n.A,{style:{marginTop:"50px"},children:[(0,j.jsx)(r.A,{type:"primary",htmlType:"button",onClick:()=>y(),children:w("next")}),(0,j.jsx)(r.A,{htmlType:"button",onClick:()=>f(),children:w("prev")})]})})]})}},78498:(e,l,t)=>{t.d(l,{A:()=>g});var s=t(9950),a=t(97239);const i=t.p+"static/media/pin.0e41858db80c699cd8a2.png";var n=t(96011),r=t.n(n),o=t(63620);async function d(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CJ,t={latlng:`${null===e||void 0===e?void 0:e.lat},${null===e||void 0===e?void 0:e.lng}`,key:l};return r().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((e=>{var l;let{data:t}=e;return null===(l=t.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var u=t(39174),c=t(85923),m=t(70030),v=t(6566),p=t(44414);const h=(0,v.A)();const g=(0,a.GoogleApiWrapper)({apiKey:h,libraries:["places","geometry"]})((function(e){var l,t;const[n,r]=(0,s.useState)(),{t:o}=(0,m.B)(),v=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};r(l)}),(function(e){c.oR.warning(o("turn.on.gps"))}))};(0,s.useEffect)((()=>{v()}),[]);const g=[{lat:Number(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.lat)||0,lng:Number(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.lng)||0}];for(var x=new e.google.maps.LatLngBounds,A=0;A<g.length;A++)x.extend(g[A]);return(0,p.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,p.jsx)("button",{className:"map-button",type:"button",onClick:()=>{v(),n&&(async l=>{const t={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(t);const s=await d(t,h);e.setAddress(s)})(n)},children:(0,p.jsx)(u.uFi,{})}),(0,p.jsx)(a.Map,{cursor:"pointer",onClick:async(l,t,s)=>{const{latLng:a}=s,i={lat:a.lat(),lng:a.lng()};e.setLocation(i);const n=await d(i,h);e.setAddress(n)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,p.jsx)(a.Marker,{position:e.location,icon:{url:i,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},79406:(e,l,t)=>{t.d(l,{a:()=>d});var s=t(9950),a=t(95491),i=t.n(a),n=t(99674),r=t(90650),o=t(44414);const d=e=>{let{fetchOptions:l,debounceTimeout:t=400,refetch:a=!1,...d}=e;const[u,c]=(0,s.useState)(!1),[m,v]=(0,s.useState)([]),p=(0,s.useMemo)((()=>i()((e=>{v([]),c(!0),l(e).then((e=>{v(e),c(!1)}))}),t)),[l,t]);return(0,o.jsx)(n.A,{showSearch:!0,allowClear:!0,labelInValue:!0,onClear:()=>p(""),filterOption:!1,onSearch:p,notFoundContent:u?(0,o.jsx)(r.A,{size:"small"}):"no results",...d,options:m,onFocus:()=>{m.length&&!a||p("")}})}},80313:(e,l,t)=>{t.d(l,{C:()=>s});const s=[{title:"shop",content:"First-content"},{title:"product.locations",content:"Product-location-content"},{title:"service.locations",content:"Service-location-content"},{title:"shop.social",content:"Third-content"},{title:"gallery",content:"Shop-gallery-content"},{title:"delivery",content:"Fourth-content"},{title:"user",content:"Fifth-content"}]},80415:(e,l,t)=>{t.d(l,{G:()=>n,HV:()=>a,LH:()=>s,PR:()=>i,wO:()=>o,xt:()=>r});const s={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},a=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),i=30,n="HH:mm",r="hh:mm a",o=!0},80905:(e,l,t)=>{t.d(l,{j:()=>d});var s=t(9950),a=t(95491),i=t.n(a),n=t(99674),r=t(90650),o=t(44414);const d=e=>{let{fetchOptions:l,debounceTimeout:t=400,hasMore:a,...d}=e;const[u,c]=(0,s.useState)(!1),[m,v]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),[g,x]=(0,s.useState)(null),[A,j]=(0,s.useState)(1),y=(0,s.useMemo)((()=>i()((e=>{v([]),x(e),c(!0),l({search:e}).then((e=>{v(e),j(2),c(!1)})).finally((()=>h(!1)))}),t)),[l,t,A]);return(0,o.jsxs)(n.A,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const t=e.target;p||t.scrollTop+t.offsetHeight!==t.scrollHeight||a&&(h(!0),t.scrollTo(0,t.scrollHeight),l({search:g,page:A}).then((e=>{j((e=>e+1)),v([...m,...e])})).finally((()=>h(!1))))},labelInValue:!0,filterOption:!1,onSearch:y,notFoundContent:u?(0,o.jsx)(r.A,{size:"small"}):"no results",onFocus:()=>{m.length||y("")},...d,children:[m.map(((e,l)=>(0,o.jsx)(n.A.Option,{value:e.value,children:e.label},l))),p&&(0,o.jsx)(n.A.Option,{children:(0,o.jsx)(r.A,{size:"small"})})]})}},91647:(e,l,t)=>{t.d(l,{A:()=>b});var s=t(9950),a=t(59233),i=t(23263),n=t(87094),r=t(41988),o=t(99674),d=t(55902),u=t(48538),c=t(80737),m=t(44070),v=t(70030),p=t(82371);const h={getAll:e=>p.A.get("dashboard/admin/shop-socials",{params:e}),create:e=>p.A.post("dashboard/admin/shop-socials",e),update:e=>p.A.put("dashboard/seller/shop-socials",{},{params:e})};var g=t(81446),x=t(28429),A=t(55660),j=t(39492),y=t(44414);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let s=0;s<e;s++){t+=l[Math.floor(62*Math.random())]}return t};function b(e){let{prev:l,next:t}=e;const{t:p}=(0,v.B)(),{uuid:b}=(0,x.g)(),[w,_]=(0,s.useState)(null),[k,S]=(0,s.useState)(j.R),[I,C]=(0,s.useState)([{type:"",content:"",id:f()}]),[q,N]=(0,s.useState)(!1),[H,F]=(0,s.useState)(!1),L=(e,l,t)=>{C(I.flatMap((s=>s.id===l?{...s,[e]:t}:s)))};(0,s.useEffect)((()=>{if(!w)return N(!0),void A.A.getById(b).then((e=>_(e.data)));(()=>{N(!0);const e={shop_id:null===w||void 0===w?void 0:w.id};h.getAll(e).then((e=>{var l;null!==(l=e.data)&&void 0!==l&&l.length&&C(e.data.map((e=>({type:e.type,content:e.content,id:f()}))))})).finally((()=>N(!1)))})()}),[null===w||void 0===w?void 0:w.id]);return(0,y.jsx)(s.Fragment,{children:q?(0,y.jsx)(g.A,{}):(0,y.jsxs)(a.A,{onFinish:()=>{F(!0);const e={shop_id:null===w||void 0===w?void 0:w.id,data:I.map((e=>e.type&&e.content?{type:e.type,content:e.content}:null)).filter((e=>!!e))};return h.create(e).then((()=>t())).finally((()=>F(!1)))},layout:"vertical",children:[(0,y.jsxs)(i.A,{children:[I.map(((e,l)=>(0,y.jsxs)(n.A,{gutter:12,children:[(0,y.jsx)(r.A,{span:9,children:(0,y.jsx)(a.A.Item,{label:p("type"),children:(0,y.jsx)(o.A,{showSearch:!0,options:k,value:e.type,onChange:l=>L("type",e.id,l)})})}),(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(a.A.Item,{label:p("url"),children:(0,y.jsx)(d.A,{value:e.content,onChange:l=>L("content",e.id,l.target.value)})})}),I.length>1&&(0,y.jsx)(r.A,{span:3,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,y.jsx)(u.A,{type:"primary",danger:!0,icon:(0,y.jsx)(m.A,{}),onClick:()=>{return l=e,void C(I.filter((e=>e.id!==l.id)));var l}})})]},l))),(0,y.jsx)(u.A,{className:"w-100 my-3",type:"dashed",onClick:()=>{C([...I,{type:"",content:"",id:f()}])},children:p("add.social")})]}),(0,y.jsxs)(c.A,{className:"mt-4",children:[(0,y.jsx)(u.A,{type:"primary",htmlType:"submit",loading:!!H,children:p("next")}),(0,y.jsx)(u.A,{onClick:l,children:p("prev")})]})]})})}},92019:(e,l,t)=>{t.d(l,{A:()=>o});var s=t(89379),a=t(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};var n=t(25085),r=function(e,l){return a.createElement(n.A,(0,s.A)((0,s.A)({},e),{},{ref:l,icon:i}))};const o=a.forwardRef(r)},92967:(e,l,t)=>{t.d(l,{A:()=>f});var s=t(9950),a=t(59233),i=t(82706),n=t(48538),r=t(23263),o=t(87094),d=t(41988),u=t(55902),c=t(99674),m=t(25933),v=t(70030),p=t(85923),h=t(71999),g=t(91854),x=t(15249),A=t(48970),j=t(62572),y=t(44414);function f(e){let{visible:l,handleCancel:t}=e;const{t:f}=(0,v.B)(),[b]=a.A.useForm(),[w,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[I,C]=(0,s.useState)([]),{defaultLang:q,languages:N}=(0,g.d4)((e=>e.formLang),g.bN);return(0,y.jsx)(i.A,{title:f("add.client"),visible:l,onCancel:t,style:{minWidth:"60vw"},footer:[(0,y.jsx)(n.A,{type:"primary",onClick:()=>b.submit(),loading:w,children:f("save")},"ok-button"),(0,y.jsx)(n.A,{onClick:t,children:f("cancel")},"cancel-button")],children:(0,y.jsx)(r.A,{title:f("add.category"),extra:(0,y.jsx)(h.A,{}),children:(0,y.jsx)(a.A,{name:"basic",layout:"vertical",onFinish:e=>{var l,s,a;_(!0);const i={...e,type:"shop",active:e.active?1:0,keywords:e.keywords.join(","),parent_id:0===(null===(l=e.parent_id)||void 0===l?void 0:l.value)?null:null===(s=e.parent_id)||void 0===s?void 0:s.value,"images[0]":null===(a=I[0])||void 0===a?void 0:a.name};j.A.create(i).then((()=>{p.oR.success(f("successfully.created")),t()})).catch((e=>S(e.response.data.params))).finally((()=>_(!1)))},initialValues:{parent_id:{title:"---",value:0,key:0},active:!0},form:b,children:(0,y.jsxs)(o.A,{gutter:12,children:[(0,y.jsx)(d.A,{span:12,children:N.map(((e,l)=>(0,y.jsx)(a.A.Item,{label:f("name"),name:`title[${e.locale}]`,help:k&&k[`title.${q}`]?k[`title.${q}`][0]:null,validateStatus:k?"error":"success",rules:[{required:e.locale===q,message:f("required")}],hidden:e.locale!==q,children:(0,y.jsx)(u.A,{placeholder:f("name")})},e.title+l)))}),(0,y.jsx)(d.A,{span:12,children:N.map(((e,l)=>(0,y.jsx)(a.A.Item,{label:f("description"),name:`description[${e.locale}]`,rules:[{required:e.locale===q,message:f("required")}],hidden:e.locale!==q,children:(0,y.jsx)(x.A,{rows:4})},e.locale+l)))}),(0,y.jsx)(d.A,{span:12,children:(0,y.jsx)(a.A.Item,{label:f("keywords"),name:"keywords",rules:[{required:!0,message:f("required")}],children:(0,y.jsx)(c.A,{mode:"tags",style:{width:"100%"}})})}),(0,y.jsx)(d.A,{span:12,children:(0,y.jsx)(a.A.Item,{label:f("parent.category"),name:"parent_id",rules:[{required:!0,message:f("required")}],help:k&&k.parent_id?k.parent_id[0]:null,validateStatus:k?"error":"success",children:(0,y.jsx)(c.A,{children:(0,y.jsx)(c.A.Option,{value:0,children:"---"})})})}),(0,y.jsx)(d.A,{span:4,children:(0,y.jsx)(a.A.Item,{label:f("image"),children:(0,y.jsx)(A.A,{type:"categories",imageList:I,setImageList:C,form:b,multiple:!1})})}),(0,y.jsx)(d.A,{span:2,children:(0,y.jsx)(a.A.Item,{label:f("active"),name:"active",valuePropName:"checked",children:(0,y.jsx)(m.A,{})})})]})})})})}}}]);