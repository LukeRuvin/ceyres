"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6041],{8168:(e,t,i)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}i.d(t,{A:()=>a})},35116:(e,t,i)=>{i.d(t,{A:()=>o});i(9950);var a=i(48538),n=i(44070),s=i(85923),d=i(70030),r=i(13311),l=i(44414);function o(e){let{size:t="",onClick:i,type:o="default",...c}=e;const{t:u}=(0,d.B)(),{isDemo:v}=(0,r.A)();return(0,l.jsx)(a.A,{size:t,icon:(0,l.jsx)(n.A,{}),onClick:e=>{v?s.oR.warning(u("cannot.work.demo")):i(e)},type:o,...c})}},53387:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(89379),n=i(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var d=i(25085),r=function(e,t){return n.createElement(d.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:s}))};const l=n.forwardRef(r)},53774:(e,t,i)=>{function a(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const i=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?`${i} ${e}`:`${e} ${i}`}i.r(t),i.d(t,{default:()=>a})},56041:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var a=i(70030),n=i(91854),s=i(9950),d=i(55386),r=i(28429),l=i(12916),o=i(80737),c=i(48538),u=i(23263),v=i(52913),h=i(24513),m=i(44070),p=i(53387),f=i(35116),g=i(74623),x=i(85923),A=i(8168),k=i(88986),y=i(76083),w=i(30020),j=i(75751),C=i(53774),b=i(44414);const S={1:"male",2:"female",3:"all"};const _=function(){var e,t,i;const{t:_}=(0,a.B)(),z=(0,n.wA)(),{activeMenu:I}=(0,n.d4)((e=>e.menu)),{setIsModalVisible:M}=(0,s.useContext)(d.o),{serviceMaster:P,meta:$,loading:N,params:R}=(0,n.d4)((e=>e.serviceMaster),n.bN),B=(0,r.Zp)(),[O,V]=(0,s.useState)(null),[E,F]=(0,s.useState)(null),[H,K]=(0,s.useState)(!1),[X,D]=(0,s.useState)({id:null,active:!1}),T={selectedRowKeys:O,onChange:e=>{V(e)}},[Z]=(0,s.useState)([{title:_("id"),dataIndex:"id",is_show:!0,sorter:!0,key:"id"},{title:_("service.name"),dataIndex:"serviceName",is_show:!0,key:"service.name",render:(e,t)=>{var i,a;return null===(i=t.service)||void 0===i||null===(a=i.translation)||void 0===a?void 0:a.title}},{title:_("commission.fee"),dataIndex:"commission_fee",is_show:!0,key:"commission.fee",render:e=>(0,C.default)(e)},{title:_("discount"),dataIndex:"discount",is_show:!0,key:"discount",render:e=>(0,C.default)(e)},{title:_("gender"),dataIndex:"gender",is_show:!0,key:"gender",render:e=>_(S[e])},{title:_("interval"),dataIndex:"interval",is_show:!0,key:"interval",render:e=>(0,b.jsx)(l.A,{children:e})},{title:_("type"),dataIndex:"type",is_show:!0,key:"type",render:e=>(0,b.jsx)(l.A,{children:e})},{title:_("options"),dataIndex:"options",key:"options",is_show:!0,render:(e,t)=>(0,b.jsxs)(o.A,{children:[(0,b.jsx)(c.A,{type:"primary",icon:(0,b.jsx)(h.A,{}),onClick:()=>{q(t.id)}}),(0,b.jsx)(f.A,{icon:(0,b.jsx)(m.A,{}),onClick:()=>{V([t.id]),M(!0),F("delete")}})]})}]),q=e=>{const t=`service-master/${e}`;z((0,g.X4)({id:"master-service-edit",url:t,name:_("edit.service.master")})),B("/"+t)},G=null===I||void 0===I?void 0:I.data,J={...R,search:null===G||void 0===G?void 0:G.search,sort:null===G||void 0===G?void 0:G.sort,column:null===G||void 0===G?void 0:G.column,perPage:null===G||void 0===G?void 0:G.perPage,page:null===G||void 0===G?void 0:G.page};return(0,s.useEffect)((()=>{I.refetch&&(z((0,j.hP)(J)),z((0,g.km)(I)))}),[I.refetch]),(0,k.A)((()=>{z((0,j.hP)(J))}),[G]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.A,{title:_("service.master"),children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,b.jsx)(c.A,{icon:(0,b.jsx)(p.A,{}),type:"primary",onClick:()=>{z((0,g.X4)({id:"service-master-add",url:"service-master/add",name:_("add.service.master")})),z((0,g.Ok)({activeMenu:I,data:null})),B("/service-master/add")},children:_("add.service.master")}),(0,b.jsx)(c.A,{onClick:()=>{null===O||0===O.length?x.oR.warning(_("select.the.product")):(M(!0),F("all.delete"))},icon:(0,b.jsx)(m.A,{}),children:_("delete.selected")})]}),(0,b.jsx)(v.A,{scroll:{x:!0},rowSelection:T,columns:null===Z||void 0===Z?void 0:Z.filter((e=>e.is_show)),dataSource:P,loading:N,pagination:{pageSize:R.perPage,page:(null===(e=I.data)||void 0===e?void 0:e.page)||1,total:$.total,defaultCurrent:null===(t=I.data)||void 0===t?void 0:t.page,current:null===(i=I.data)||void 0===i?void 0:i.page},rowKey:e=>e.id,onChange:function(e,t,i){const{pageSize:a,current:n}=e,{field:s,order:d}=i,r=(0,A.A)(d);z((0,g.Ok)({activeMenu:I,data:{...I.data,perPage:a,page:n,column:s,sort:r}}))}})]}),(0,b.jsx)(y.A,{click:()=>{"delete"===E||"all.delete"===E?(()=>{K(!0);const e={...Object.assign({},...O.map(((e,t)=>({[`ids[${t}]`]:e}))))};w.A.delete(e).then((()=>{x.oR.success(_("successfully.deleted")),V(null),M(!1),F(""),z((0,j.hP)(J))})).finally((()=>K(!1)))})():"set.active.order.status"===E&&(K(!0),w.A.update(X.id,{active:Number(X.active)}).then((()=>{D({id:null,active:!1}),M(!1),F(""),z((0,j.hP)(J))})).finally((()=>K(!1))))},text:E,setText:V,loading:H})]})}}}]);