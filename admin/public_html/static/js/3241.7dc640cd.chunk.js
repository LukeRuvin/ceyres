"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3241],{3241:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var i=s(9950),d=s(12678),r=s(44070),a=s(29633),l=s(80737),n=s(48538),o=s(23263),u=s(52913),c=s(85923),h=s(76083),v=s(55386),p=s(91854),x=s(74623),g=s(88986),m=s(8168),f=s(70030),k=s(12408),j=s(25966),w=s(18583),A=s(59051),C=s.n(A),_=s(28429),y=s(35116),S=s(28645),b=s(44414);function I(){const{t:e}=(0,f.B)(),t=(0,p.wA)(),s=(0,_.Zp)(),[A,I]=(0,i.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:i=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>(i=>{t((0,x.X4)({id:"order_details",url:`order/details/${i}`,name:e("order.details")})),s(`/order/details/${i}`)})(i.id),children:["#",i.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:i=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>{return d=i,t((0,x.X4)({url:`/users/user/${d.uuid}`,id:"user_info",name:e("user.info")})),void s(`/users/user/${d.uuid}`,{state:{user_id:d.id}});var d},children:[null===i||void 0===i?void 0:i.firstname," ",(null===i||void 0===i?void 0:i.lastname)||""]})},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:i=>{var d;return(0,b.jsx)("div",{className:"text-hover",onClick:()=>{return d=i,t((0,x.X4)({id:"edit-shop",url:`shop/${d.uuid}`,name:e("edit.shop")})),void s(`/shop/${d.uuid}`);var d},children:null===i||void 0===i||null===(d=i.translation)||void 0===d?void 0:d.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,b.jsx)(a.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>C()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,b.jsxs)(l.A,{children:[(0,b.jsx)(n.A,{type:"primary",icon:(0,b.jsx)(d.A,{}),onClick:()=>N(t.id)}),(0,b.jsx)(y.A,{icon:(0,b.jsx)(r.A,{}),onClick:()=>{z([t.id]),Y(!0),D(!0)}})]})}]),{setIsModalVisible:Y}=(0,i.useContext)(v.o),[$,z]=(0,i.useState)(null),[M,N]=(0,i.useState)(null),[P,R]=(0,i.useState)(!1),[X,D]=(0,i.useState)(null),{activeMenu:O}=(0,p.d4)((e=>e.menu),p.bN),{reviews:V,meta:B,loading:E,params:K}=(0,p.d4)((e=>e.orderReview),p.bN);(0,i.useEffect)((()=>{O.refetch&&(t((0,j.gY)()),t((0,x.km)(O)))}),[O.refetch]),(0,g.A)((()=>{const e=O.data,s={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,j.gY)(s))}),[O.data]);const T={id:$,onChange:e=>{z(e)}};return(0,b.jsxs)(o.A,{title:e("order.reviews"),extra:(0,b.jsxs)(l.A,{wrap:!0,children:[(0,b.jsx)(y.A,{size:"",onClick:()=>{null===$||0===$.length?c.oR.warning(e("select.the.product")):(Y(!0),D(!1))},children:e("delete.selected")}),(0,b.jsx)(S.A,{columns:A,setColumns:I})]}),children:[(0,b.jsx)(u.A,{scroll:{x:!0},rowSelection:T,columns:null===A||void 0===A?void 0:A.filter((e=>e.is_show)),dataSource:V,pagination:{pageSize:K.perPage,page:K.page,total:B.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,s,i){const{pageSize:d,current:r}=e,{field:a,order:l}=i,n=(0,m.A)(l);t((0,x.Ok)({activeMenu:O,data:{perPage:d,page:r,column:a,sort:n}}))},loading:E}),(0,b.jsx)(h.A,{click:()=>{R(!0);const s={...Object.assign({},...$.map(((e,t)=>({[`ids[${t}]`]:e}))))};k.A.delete(s).then((()=>{c.oR.success(e("successfully.deleted")),t((0,j.gY)()),Y(!1)})).finally((()=>R(!1)))},text:e(X?"delete":"all.delete"),setText:z,loading:P}),M&&(0,b.jsx)(w.A,{id:M,handleCancel:()=>N(null)})]})}}}]);