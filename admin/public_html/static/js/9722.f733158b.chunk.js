"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9722],{12358:(e,t,l)=>{l.d(t,{A:()=>x});var n=l(59233),a=l(87094),i=l(41988),r=l(55902),s=l(40577),d=l(99674),o=l(25933),c=l(48538),u=l(91854),m=l(70030),h=l(9950),v=l(85923),A=l(74623),f=(l(86918),l(28429)),j=l(76206),p=l(44414);const g=["1 day","3 days","7 days","14 days","1 month","2 month","3 month","4 month","5 month","6 month","8 month","18 months","1 year","2 years","5 years"];const x=function(e){let{handleSubmit:t,form:l}=e;const{t:x}=(0,m.B)(),b=(0,u.wA)(),y=(0,f.Zp)(),{defaultLang:k,languages:w}=(0,u.d4)((e=>e.formLang),u.bN),{activeMenu:$}=(0,u.d4)((e=>e.menu)),[E,I]=(0,h.useState)();return(0,p.jsxs)(n.A,{layout:"vertical",form:l,onFinish:e=>{I(!0);const l="seller/gift-cards";t(e).then((()=>{v.oR.success(x("successfully.added")),(0,u.vA)((()=>{b((0,A.EK)({...$,nextUrl:l})),b((0,j.vT)())})),y(`/${l}`)})).finally((()=>I(!1)))},children:[(0,p.jsxs)(a.A,{gutter:12,children:[(0,p.jsx)(i.A,{span:12,children:w.map((e=>(0,p.jsx)(n.A.Item,{label:x("title"),name:`title[${e.locale}]`,hidden:e.locale!==k,rules:[{validator:(t,l)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(t?e||(null===t||void 0===t?void 0:t.locale)!==k:e)?e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error(x("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<l?Promise.reject(new Error(x(`must.be.at.least.${l}`))):Promise.resolve():Promise.reject(new Error(x("required")))}(l,e)}],children:(0,p.jsx)(r.A,{})},"title"+e.id)))}),(0,p.jsx)(i.A,{span:12,children:(0,p.jsx)(n.A.Item,{name:"price",label:x("price"),rules:[{required:!0,message:x("required")}],children:(0,p.jsx)(s.A,{min:0,className:"w-100"})})}),(0,p.jsx)(i.A,{span:12,children:(0,p.jsx)(n.A.Item,{name:"time",label:x("time"),rules:[{required:!0}],children:(0,p.jsx)(d.A,{children:g.map((e=>(0,p.jsx)(d.A.Option,{value:e,children:e},e)))})})}),(0,p.jsx)(i.A,{children:(0,p.jsx)(n.A.Item,{name:"active",valuePropName:"checked",label:x("active"),children:(0,p.jsx)(o.A,{defaultChecked:!0})})})]}),(0,p.jsx)(c.A,{type:"primary",htmlType:"submit",loading:E,children:x("submit")})]})}},31281:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=e.map((e=>({[e.locale]:""===t[`${l}[${e.locale}]`]?void 0:t[`${l}[${e.locale}]`]})));return Object.assign({},...n)}l.d(t,{A:()=>n})},89722:(e,t,l)=>{l.r(t),l.d(t,{default:()=>A});var n=l(91854),a=l(59233),i=l(23263),r=l(28429),s=l(9950),d=l(71999),o=l(12358),c=l(70030),u=l(89842),m=l(74623),h=l(31281),v=l(44414);const A=function(){const e=(0,n.wA)(),{t:t}=(0,c.B)(),[l]=a.A.useForm(),{activeMenu:A}=(0,n.d4)((e=>e.menu),n.bN),{languages:f}=(0,n.d4)((e=>e.formLang),n.bN),{id:j}=(0,r.g)(),[p,g]=(0,s.useState)(!1);function x(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,l=f.map((e=>{var l;return{[`title[${e.locale}]`]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.title}}));return Object.assign({},...l)}return(0,s.useEffect)((()=>{A.refetch&&((t=>{g(!0),u.A.getById(t).then((t=>{var n,a,i;const r={...x(t.data),time:null===(n=t.data)||void 0===n?void 0:n.time,price:null===(a=t.data)||void 0===a?void 0:a.price,active:!(null===(i=t.data)||void 0===i||!i.active)};l.setFieldsValue(r),e((0,m.Ok)({activeMenu:A,data:r}))})).finally((()=>g(!1)))})(j),e((0,m.km)(A)))}),[A.refetch]),(0,v.jsx)(i.A,{title:t("edit.gift.card"),extra:(0,v.jsx)(d.A,{}),loading:p,children:!p&&(0,v.jsx)(o.A,{form:l,handleSubmit:e=>{const t={...e,title:(0,h.A)(f,e,"title")};return u.A.update(j,t)}})})}}}]);