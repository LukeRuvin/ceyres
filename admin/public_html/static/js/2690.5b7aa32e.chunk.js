"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2690],{8168:(e,t,s)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}s.d(t,{A:()=>n})},35116:(e,t,s)=>{s.d(t,{A:()=>o});s(9950);var n=s(48538),i=s(44070),a=s(85923),l=s(70030),d=s(13311),r=s(44414);function o(e){let{size:t="",onClick:s,type:o="default",...c}=e;const{t:u}=(0,l.B)(),{isDemo:v}=(0,d.A)();return(0,r.jsx)(n.A,{size:t,icon:(0,r.jsx)(i.A,{}),onClick:e=>{v?a.oR.warning(u("cannot.work.demo")):s(e)},type:o,...c})}},53387:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(89379),i=s(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var l=s(25085),d=function(e,t){return i.createElement(l.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};const r=i.forwardRef(d)},53774:(e,t,s)=>{function n(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const s=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?`${s} ${e}`:`${e} ${s}`}s.r(t),s.d(t,{default:()=>n})},82690:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var n=s(70030),i=s(91854),a=s(9950),l=s(55386),d=s(28429),r=s(12916),o=s(80737),c=s(48538),u=s(23263),v=s(52913),m=s(24513),h=s(44070),p=s(53387),f=s(35116),g=s(74623),x=s(85923),A=s(8168),k=s(88986),w=s(76083),y=s(87902),j=s(75751),C=s(53774),S=s(44414);const _={1:"male",2:"female",3:"all"};const b=function(){var e,t,s;const{t:b}=(0,n.B)(),z=(0,i.wA)(),{activeMenu:I}=(0,i.d4)((e=>e.menu)),{setIsModalVisible:M}=(0,a.useContext)(l.o),{serviceMaster:R,meta:$,loading:N,params:P}=(0,i.d4)((e=>e.serviceMaster),i.bN),B=(0,d.Zp)(),[O,V]=(0,a.useState)(null),[E,F]=(0,a.useState)(null),[H,K]=(0,a.useState)(!1),[X,D]=(0,a.useState)({id:null,active:!1}),T={selectedRowKeys:O,onChange:e=>{V(e)}},[Z]=(0,a.useState)([{title:b("id"),dataIndex:"id",is_show:!0,sorter:!0,key:"id"},{title:b("service.name"),dataIndex:"serviceName",is_show:!0,key:"service.name",render:(e,t)=>{var s,n;return null===(s=t.service)||void 0===s||null===(n=s.translation)||void 0===n?void 0:n.title}},{title:b("commission.fee"),dataIndex:"commission_fee",is_show:!0,key:"commission.fee",render:e=>(0,C.default)(e)},{title:b("discount"),dataIndex:"discount",is_show:!0,key:"discount",render:e=>(0,C.default)(e)},{title:b("gender"),dataIndex:"gender",is_show:!0,key:"gender",render:e=>b(_[e])},{title:b("interval"),dataIndex:"interval",is_show:!0,key:"interval",render:e=>(0,S.jsx)(r.A,{children:e})},{title:b("type"),dataIndex:"type",is_show:!0,key:"type",render:e=>(0,S.jsx)(r.A,{children:e})},{title:b("options"),dataIndex:"options",key:"options",is_show:!0,render:(e,t)=>(0,S.jsxs)(o.A,{children:[(0,S.jsx)(c.A,{type:"primary",icon:(0,S.jsx)(m.A,{}),onClick:()=>{q(t.id)}}),(0,S.jsx)(f.A,{icon:(0,S.jsx)(h.A,{}),onClick:()=>{V([t.id]),M(!0),F("delete")}})]})}]),q=e=>{const t=`seller/service-master/${e}`;z((0,g.X4)({id:"seller-master-service-edit",url:t,name:b("edit.service.master")})),B("/"+t)},G=null===I||void 0===I?void 0:I.data,J={...P,search:null===G||void 0===G?void 0:G.search,sort:null===G||void 0===G?void 0:G.sort,column:null===G||void 0===G?void 0:G.column,perPage:null===G||void 0===G?void 0:G.perPage,page:null===G||void 0===G?void 0:G.page};return(0,a.useEffect)((()=>{I.refetch&&(z((0,j.Rk)(J)),z((0,g.km)(I)))}),[I.refetch]),(0,k.A)((()=>{z((0,j.Rk)(J))}),[G]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(u.A,{title:b("service.master"),children:[(0,S.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,S.jsx)(c.A,{icon:(0,S.jsx)(p.A,{}),type:"primary",onClick:()=>{z((0,g.X4)({id:"seller/service-master-add",url:"seller/service-master/add",name:b("add.service.master")})),z((0,g.Ok)({activeMenu:I,data:null})),B("/seller/service-master/add")},children:b("add.service.master")}),(0,S.jsx)(c.A,{onClick:()=>{null===O||0===O.length?x.oR.warning(b("select.the.product")):(M(!0),F("all.delete"))},icon:(0,S.jsx)(h.A,{}),children:b("delete.selected")})]}),(0,S.jsx)(v.A,{scroll:{x:!0},rowSelection:T,columns:null===Z||void 0===Z?void 0:Z.filter((e=>e.is_show)),dataSource:R,loading:N,pagination:{pageSize:P.perPage,page:(null===(e=I.data)||void 0===e?void 0:e.page)||1,total:$.total,defaultCurrent:null===(t=I.data)||void 0===t?void 0:t.page,current:null===(s=I.data)||void 0===s?void 0:s.page},rowKey:e=>e.id,onChange:function(e,t,s){const{pageSize:n,current:i}=e,{field:a,order:l}=s,d=(0,A.A)(l);z((0,g.Ok)({activeMenu:I,data:{...I.data,perPage:n,page:i,column:a,sort:d}}))}})]}),(0,S.jsx)(w.A,{click:()=>{"delete"!==E&&"all.delete"!==E||(()=>{K(!0);const e={...Object.assign({},...O.map(((e,t)=>({[`ids[${t}]`]:e}))))};y.A.delete(e).then((()=>{x.oR.success(b("successfully.deleted")),V(null),M(!1),F(""),z((0,j.Rk)(J))})).finally((()=>K(!1)))})()},text:E,setText:V,loading:H})]})}}}]);