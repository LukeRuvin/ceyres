"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4896],{31281:(e,l,t)=>{function n(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=e.map((e=>({[e.locale]:""===l[`${t}[${e.locale}]`]?void 0:l[`${t}[${e.locale}]`]})));return Object.assign({},...n)}t.d(l,{A:()=>n})},47992:(e,l,t)=>{t.d(l,{G:()=>d});var n=t(9950),i=t(95491),r=t.n(i),o=t(99674),s=t(90650),a=t(44414);const d=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:i,refetchOptions:d=!1,...c}=e;const[u,m]=(0,n.useState)(!1),[h,v]=(0,n.useState)([]),p=(0,n.useMemo)((()=>r()((e=>{v([]),m(!0),l(e).then((e=>{v(e),m(!1)}))}),t)),[l,t]);return(0,a.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),i&&i()},notFoundContent:u?(0,a.jsx)(s.A,{size:"small"}):"no results",...c,options:h,onFocus:()=>{h.length&&!d||p("")}})}},64896:(e,l,t)=>{t.r(l),t.d(l,{default:()=>c});var n=t(70030),i=t(59233),r=t(23263),o=(t(91854),t(69239)),s=t(71999),a=t(22961),d=t(44414);const c=function(){const{t:e}=(0,n.B)(),[l]=i.A.useForm();return(0,d.jsx)(r.A,{title:e("add.gift.card"),extra:(0,d.jsx)(s.A,{}),children:(0,d.jsx)(o.A,{form:l,handleSubmit:e=>(console.log(e),a.A.create(e))})})}},69239:(e,l,t)=>{t.d(l,{A:()=>$});var n=t(59233),i=t(87094),r=t(41988),o=t(55902),s=t(40577),a=t(99674),d=t(25933),c=t(48538),u=t(91854),m=t(70030),h=t(9950),v=t(85923),p=t(74623),A=t(28429),j=t(76206),x=t(31281),f=t(47992),b=t(55660),g=t(44414);const y=["1 day","3 days","7 days","14 days","1 month","2 month","3 month","4 month","5 month","6 month","8 month","18 months","1 year","2 years","5 years"];const $=function(e){let{handleSubmit:l,form:t}=e;const{t:$}=(0,m.B)(),w=(0,u.wA)(),C=(0,A.Zp)(),{defaultLang:I,languages:S}=(0,u.d4)((e=>e.formLang),u.bN),{defaultCurrency:k}=(0,u.d4)((e=>e.currency),u.bN),{activeMenu:q}=(0,u.d4)((e=>e.menu)),[O,P]=(0,h.useState)(!1);function E(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(l?!e&&(null===l||void 0===l?void 0:l.locale)===I:!e)?Promise.reject(new Error($("required"))):e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error($("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<t?Promise.reject(new Error($(`must.be.at.least.${t}`))):Promise.resolve()}return(0,g.jsxs)(n.A,{layout:"vertical",form:t,onFinish:e=>{var t;P(!0);const n="gift-cards",i={price:e.price,time:e.time,active:e.active?1:0,shop_id:null===(t=e.shop)||void 0===t?void 0:t.value,title:(0,x.A)(S,e,"title"),description:(0,x.A)(S,e,"description")};l(i).then((()=>{v.oR.success($("successfully.added")),(0,u.vA)((()=>{w((0,p.EK)({...q,nextUrl:n})),w((0,j.Eb)())})),C(`/${n}`)})).finally((()=>P(!1)))},children:[(0,g.jsxs)(i.A,{gutter:12,children:[(0,g.jsx)(r.A,{span:12,children:S.map((e=>(0,g.jsx)(n.A.Item,{label:$("title"),name:`title[${e.locale}]`,hidden:e.locale!==I,rules:[{validator:(l,t)=>E(t,e)}],children:(0,g.jsx)(o.A,{})},"title"+e.id)))}),(0,g.jsx)(r.A,{span:12,children:S.map((e=>(0,g.jsx)(n.A.Item,{label:$("description"),name:`description[${e.locale}]`,hidden:e.locale!==I,rules:[{validator:(l,t)=>E(t,e)}],children:(0,g.jsx)(o.A,{})},"description"+e.id)))}),(0,g.jsx)(r.A,{span:12,children:(0,g.jsx)(n.A.Item,{name:"price",label:$("price"),rules:[{required:!0,message:$("required")}],children:(0,g.jsx)(s.A,{min:0,className:"w-100",addonAfter:"after"===(null===k||void 0===k?void 0:k.position)&&((null===k||void 0===k?void 0:k.symbol)||"$"),addonBefore:"before"===(null===k||void 0===k?void 0:k.position)&&((null===k||void 0===k?void 0:k.symbol)||"$")})})}),(0,g.jsx)(r.A,{span:12,children:(0,g.jsx)(n.A.Item,{name:"time",label:$("time"),rules:[{required:!0}],children:(0,g.jsx)(a.A,{children:y.map((e=>(0,g.jsx)(a.A.Option,{value:e,children:e},e)))})})}),(0,g.jsx)(r.A,{span:12,children:(0,g.jsx)(n.A.Item,{label:$("shop"),name:"shop",rules:[{required:!0,message:$("required")}],children:(0,g.jsx)(f.G,{fetchOptions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const l={search:e,perPage:10,page:1};return""===e.trim()&&delete l.search,b.A.getAll(l).then((e=>{var l;return null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))}})})}),(0,g.jsx)(r.A,{children:(0,g.jsx)(n.A.Item,{name:"active",label:$("active"),valuePropName:"checked",children:(0,g.jsx)(d.A,{})})})]}),(0,g.jsx)(c.A,{type:"primary",htmlType:"submit",loading:O,children:$("submit")})]})}}}]);